import{_ as t,r as p,o,c as l,a as n,d as a,e,b as c}from"./app-b63b8632.js";const i={},u=n("h1",{id:"å‹åˆ¶å‘Šè­¦",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‹åˆ¶å‘Šè­¦","aria-hidden":"true"},"#"),a(" å‹åˆ¶å‘Šè­¦")],-1),r=n("p",null,"â€‹ æ‘˜è¦ï¼šå¯ä»¥é€šè¿‡åœ¨æºç ä¸­æ·»åŠ æ³¨è§£æˆ–è€…æ³¨é‡Šå¿½ç•¥æŸäº›å‘Šè­¦ï¼Œä¹Ÿå¯ä»¥åœ¨å…¨å±€é…ç½®ä¸­é…ç½®å¿½ç•¥æŸäº›å‘Šè­¦ã€‚",-1),d=n("p",null,"â€‹ PMDä¸­æœ‰å¤šä¸­å¿½ç•¥å‘Šè­¦çš„é…ç½®ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç‚¹é€‰æ‹©é…ç½®æ–¹å¼ã€‚",-1),k=n("p",null,"â€‹ 1.å¦‚æœéœ€è¦å‹åˆ¶çš„å‘Šè­¦å±äºå¤§å¤šæ•°ç”¨æˆ·éƒ½ä¼šå‹åˆ¶çš„å‘Šè­¦ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹Ruleè§„åˆ™ä»¥æŠ‘åˆ¶å‘Šè­¦ã€‚æˆ–è€…ç›´æ¥ä¿®æ”¹è¯¥å‘Šè­¦ã€‚æäº¤åˆå¹¶åˆ°PMDä»£ç åº“ã€‚",-1),v=n("p",null,"â€‹ 2.ä½¿ç”¨æ³¨è§£æˆ–è€…NOPMDæ ‡è®°ç‰¹æ®Šçš„é—®é¢˜ã€‚",-1),m=n("p",null,"â€‹ 3.æ­£åˆ™è¡¨è¾¾å¼ã€‚",-1),b=n("p",null,"â€‹ 4.XPathæŸ¥è¯¢ã€‚",-1),g=n("p",null,"â€‹ 5.ä¿®æ”¹PMDè§„åˆ™ï¼Œä¸æäº¤åˆ°PMDä»£ç ä»“åˆå¹¶ã€‚",-1),h={href:"https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_rules_intro.html",target:"_blank",rel:"noopener noreferrer"},x=c(`<h2 id="anntations" tabindex="-1"><a class="header-anchor" href="#anntations" aria-hidden="true">#</a> Anntations</h2><p>â€‹ è¦æ±‚javaç‰ˆæœ¬&gt;1.5ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æœ¬ç±»ä¸­æ‰€æœ‰PMDé—®é¢˜éƒ½ä¸æ£€æµ‹</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;PMD&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> foo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ä¸æŠ¥UnusedLocalVariableç±»é—®é¢˜</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;PMD.UnusedLocalVariable&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> foo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ç›´æ¥ä½¿ç”¨JDKçš„æ³¨è§£</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unused&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> foo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ Apexä¸‹å†™æ³•ï¼š</p><div class="language-apex line-numbers-mode" data-ext="apex"><pre class="language-apex"><code><span class="token comment">// This will suppress all the PMD warnings in this class</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&#39;PMD&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@SuppressWarnings({&quot;PMD.UnusedLocalVariable&quot;, &quot;PMD.UnusedPrivateMethod&quot;})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@SuppressWarnings(&#39;PMD.UnusedLocalVariable, PMD.UnusedPrivateMethod&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="nopmd-æ ‡æ³¨" tabindex="-1"><a class="header-anchor" href="#nopmd-æ ‡æ³¨" aria-hidden="true">#</a> NOPMD æ ‡æ³¨</h2><p>å˜é‡ç›´æ¥æ ‡è®°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#39;bar&#39; is accessed by a native method, so we want to suppress warnings for it</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> bar<span class="token punctuation">;</span> <span class="token comment">//NOPMD</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘½ä»¤è¡Œæ¨¡å¼å¿½ç•¥ç‰¹å®šNOPMDæ ‡æ³¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>$ cat <span class="token class-name">Foo</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// TURN_OFF_WARNINGS</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

$ pmd check <span class="token operator">-</span>d <span class="token class-name">Foo</span><span class="token punctuation">.</span>java <span class="token operator">-</span>f text <span class="token operator">-</span><span class="token class-name">R</span> java<span class="token operator">-</span>unusedcode <span class="token operator">--</span>suppress<span class="token operator">-</span>marker <span class="token constant">TURN_OFF_WARNINGS</span>
<span class="token class-name">No</span> problems found<span class="token operator">!</span>
<span class="token class-name">UnusedLocalVariable</span> rule violation suppressed by <span class="token comment">//NOPMD in /home/tom/pmd/pmd/bin/Foo.java</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¿½ç•¥ç©ºifå¿«æ£€æŸ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>$ cat <span class="token operator">~</span><span class="token operator">/</span>tmp<span class="token operator">/</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>java
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// NOPMD</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
$ java net<span class="token punctuation">.</span>sourceforge<span class="token punctuation">.</span>pmd<span class="token punctuation">.</span><span class="token constant">PMD</span> <span class="token operator">-</span>d <span class="token operator">~</span><span class="token operator">/</span>tmp<span class="token operator">/</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>java <span class="token operator">-</span>f text <span class="token operator">-</span><span class="token class-name">R</span> java<span class="token operator">-</span>basic
<span class="token class-name">No</span> problems found<span class="token operator">!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ‡æ³¨åçš„æ³¨é‡Šä½“ç°åœ¨æŠ¥å‘Šä¸­</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// NOPMD - this surely will never happen</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&quot;this surely will never happen&quot;è¿™å¥æè¿°ä¼šä½“ç°åœ¨PMDçš„æ£€æµ‹ç»“æœæŠ¥å‘Šä¸­ã€‚</p><h2 id="xpathå’Œæ­£åˆ™è¡¨è¾¾å¼å‹åˆ¶" tabindex="-1"><a class="header-anchor" href="#xpathå’Œæ­£åˆ™è¡¨è¾¾å¼å‹åˆ¶" aria-hidden="true">#</a> XPathå’Œæ­£åˆ™è¡¨è¾¾å¼å‹åˆ¶</h2><h3 id="violationsuppressregex" tabindex="-1"><a class="header-anchor" href="#violationsuppressregex" aria-hidden="true">#</a> violationSuppressRegex</h3><p>åŒ¹é…æ£€æµ‹ç‰¹å®šåç§°çš„å˜é‡å</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rule</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rulesets/java/unusedcode.xml/UnusedFormalParameter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>violationSuppressRegex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.*&#39;mySpecialParameterName&#39;.*<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rule</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£åˆ™è¡¨è¾¾å¼çš„å†™æ³•å‚è€ƒJavaçš„ java.util.regex.Patternè§„åˆ™ã€‚</p><p>ğŸ—ï¸æ­¤å¤„åªæ˜¯å®šä¹‰äº†è§„åˆ™å‚æ•°ï¼Œæ˜¯å¦èƒ½ç”Ÿæ•ˆè¿˜è¦çœ‹è§„åˆ™å®ç°æ˜¯å¦å¤„ç†äº†è¯¥å‚æ•°ã€‚</p><h3 id="violationsuppressxpath" tabindex="-1"><a class="header-anchor" href="#violationsuppressxpath" aria-hidden="true">#</a> violationSuppressXPath</h3><p>XPathåœ¨PMD7çš„ç‰ˆæœ¬æ˜¯3.1ï¼Œä¹‹å‰ç‰ˆæœ¬æ˜¯1.0ã€‚</p><p>ä¸‹é¢è§„åˆ™é…ç½®äº†ä¸æŠ¥å‘ŠStringç±»å‹å˜é‡çš„æœªä½¿ç”¨é—®é¢˜ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rule</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rulesets/java/unusedcode.xml/UnusedFormalParameter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>violationSuppressXPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.[typeIs(&#39;java.lang.String&#39;)]<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rule</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ—ï¸è¡¨è¾¾å¼å€¼è§£æï¼Œâ€œ.â€å¼€å¤´è¡¨ç¤ºå½“å‰ä¸Šä¸‹æ–‡èŠ‚ç‚¹ã€‚â€œ//â€å¼€å¤´ä¼šé…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿™æ ·å¯èƒ½ä¼šæŠ‘åˆ¶æ¯”é¢„æœŸæ›´å¤šçš„é—®é¢˜ï¼Œä¸€èˆ¬ä¸å»ºè®®è¿™ç§åŒ¹é…æ–¹å¼ã€‚</p><p>æŠ‘åˆ¶ç±»åå­—åŒ…å«â€œBeanâ€çš„ç±»çš„æ‰€æœ‰é—®é¢˜ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>violationSuppressXPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./ancestor::ClassOrInterfaceDeclaration[contains(@Image, &#39;Bean&#39;)]<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>violationSuppressXPath<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./ancestor::ClassOrInterfaceDeclaration[matches(@Image, &#39;^.*Bean$&#39;)]<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ğŸ—ï¸æ­¤å¤„ä½¿ç”¨&quot;./ancestor::&quot;å¼€å¤´åŒ¹é…æ‰€æœ‰çš„ç±»æˆ–æ¥å£å®šä¹‰ã€‚</p>`,34),_={href:"https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_xpath_rules.html",target:"_blank",rel:"noopener noreferrer"};function q(y,f){const s=p("ExternalLinkIcon");return o(),l("div",null,[u,r,d,k,v,m,b,g,n("p",null,[a("å¦‚æœéœ€è¦ä¿®æ”¹Ruleï¼Œå‚è€ƒ "),n("a",h,[a("å¦‚ä½•å†™è§„åˆ™"),e(s)]),a("ã€‚ä¸‹é¢æ˜¯ä¸ä¿®æ”¹è§„åˆ™çš„å…¶ä»–æ–¹å¼ã€‚")]),x,n("p",null,[a("ğŸ—ï¸å¦‚ä½•å†™XPathæŸ¥è¯¢ASTèŠ‚ç‚¹ä»¥å±è”½è‡ªå·±æƒ³è¦å±è”½çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ"),n("a",_,[a("XPath Rule tutorial"),e(s)]),a(".")])])}const P=t(i,[["render",q],["__file","6å‹åˆ¶å‘Šè­¦.html.vue"]]);export{P as default};
