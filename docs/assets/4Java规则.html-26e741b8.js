import{_ as t,r as o,o as l,c,a as n,b as e,d as s,e as r}from"./app-d417e0ec.js";const i={},p=n("h1",{id:"å†™ä¸€ä¸ªå®šåˆ¶çš„è§„åˆ™",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å†™ä¸€ä¸ªå®šåˆ¶çš„è§„åˆ™","aria-hidden":"true"},"#"),e(" å†™ä¸€ä¸ªå®šåˆ¶çš„è§„åˆ™")],-1),d=n("p",null,"Summary:å­¦ä¹ å¦‚ä½•å†™ä¸€ä¸ªPMDçš„å®šåˆ¶è§„åˆ™ã€‚",-1),u=n("p",null,"ğŸ—ï¸è¿™ä¸€åˆ‡åº”è¯¥å†™åœ¨Javadocsä¸­ï¼Œç”šè‡³ä¸ç¡®å®šæˆ‘ä»¬æ˜¯å¦éœ€è¦ä¸€ä¸ªæ–‡æ¡£é¡µé¢ã€‚è¿™ä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤ã€‚",-1),h=n("p",null,"âš ï¸å·¥ä½œæ­£åœ¨è¿›è¡Œä¸­ï¼Œç›®å‰æ­¤æ–‡æ¡£ä¸å®Œå–„ã€‚",-1),m=n("p",null,"â€‹ æœ¬èŠ‚æ¶µç›–äº†åœ¨Javaä¸­ç¼–å†™è§„åˆ™çš„å…·ä½“å†…å®¹ã€‚åŸºæœ¬çš„å¼€å‘æµç¨‹ä¸XPathè§„åˆ™çš„å¼€å‘æµç¨‹éå¸¸ç›¸ä¼¼ï¼ŒXPathè§„åˆ™çš„å¼€å‘æµç¨‹åœ¨â€œç¬¬ä¸€ä¸ªè§„åˆ™â€ä¸­æœ‰æè¿°ã€‚",-1),_=n("p",null,"â€‹ åŸºæœ¬æ­¥éª¤ï¼Œæ‰“å¼€è§„åˆ™è®¾è®¡å™¨ï¼ŒæŸ¥çœ‹ASTçš„ç»“æ„ï¼Œå¹¶éšç€æ·»åŠ æµ‹è¯•æ¡ˆä¾‹ä¸æ–­å®Œå–„æ‚¨çš„è§„åˆ™ã€‚",-1),v=n("p",null,"â€‹ æœ¬èŠ‚å†…å®¹åªé’ˆå¯¹javaè¯­è¨€çš„è§„åˆ™è¿›è¡Œè®²è§£,å…¶ä»–è¯­è¨€ä¸è¿™ä¸ªç±»ä¼¼.",-1),k={href:"https://docs.pmd-code.org/latest/tag_languages.html",target:"_blank",rel:"noopener noreferrer"},b=n("h2",{id:"åŸºç¡€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#åŸºç¡€","aria-hidden":"true"},"#"),e(" åŸºç¡€")],-1),f=n("p",null,"â€‹ è¦åœ¨Javaä¸­ç¼–å†™è§„åˆ™ï¼Œæ‚¨éœ€è¦ï¼š",-1),g=n("ol",null,[n("li",null,"ç¼–å†™ä¸€ä¸ªå®ç°Ruleæ¥å£çš„Javaç±»ã€‚æ¯ç§è¯­è¨€çš„å®ç°éƒ½æä¾›äº†ä¸€ä¸ªåŸºæœ¬è§„åˆ™ç±»ï¼Œä»¥ç®€åŒ–æ‚¨çš„å·¥ä½œï¼Œä¾‹å¦‚AbstractJavaRuleã€‚"),n("li",null,"ç¼–è¯‘æ­¤ç±»ï¼Œå¹¶å°†å…¶é“¾æ¥åˆ°PMDçš„APIï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨PMDä½œä¸ºMavenä¾èµ–ï¼‰ã€‚"),n("li",null,"æ‰“åŒ…è¿™ä¸ªç±»æˆä¸€ä¸ªJARæ–‡ä»¶ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°PMDçš„æ‰§è¡Œç±»è·¯å¾„ä¸­ã€‚"),n("li",null,"åœ¨æ‚¨çš„è§„åˆ™é›†XMLä¸­å£°æ˜è¿™ä¸ªè§„åˆ™ã€‚")],-1),x=n("h2",{id:"è§„åˆ™æ‰§è¡Œ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#è§„åˆ™æ‰§è¡Œ","aria-hidden":"true"},"#"),e(" è§„åˆ™æ‰§è¡Œ")],-1),y={href:"https://sourcemaking.com/design_patterns/visitor",target:"_blank",rel:"noopener noreferrer"},R=r(`<h3 id="æ ‘éå†" tabindex="-1"><a class="header-anchor" href="#æ ‘éå†" aria-hidden="true">#</a> æ ‘éå†</h3><p>â€‹ å½“å°†è§„åˆ™åº”ç”¨äºæ–‡ä»¶æ—¶ï¼Œå®ƒä¼šä¼ é€’ASTçš„æ ¹èŠ‚ç‚¹ï¼Œå¹¶è¢«å‘ŠçŸ¥éå†æ•´ä¸ªæ ‘ä»¥æŸ¥æ‰¾è¿è§„ã€‚æ¯ä¸ªè§„åˆ™ä¸ºè¯­è¨€çš„æ¯ç§èŠ‚ç‚¹ç±»å‹å®šä¹‰äº†ç‰¹å®šçš„è®¿é—®æ–¹æ³•ï¼Œé»˜è®¤æƒ…å†µä¸‹ä»…è®¿é—®å­èŠ‚ç‚¹ã€‚</p><p>â€‹ å› æ­¤ï¼Œä»¥ä¸‹è§„åˆ™å°†éå†æ•´ä¸ªæ ‘å¹¶ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRule</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractJavaRule</span> <span class="token punctuation">{</span>
    <span class="token comment">// all methods are default implementations!</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ é€šå¸¸ï¼Œè§„åˆ™åªæƒ³æ£€æŸ¥æŸäº›èŠ‚ç‚¹ç±»å‹ã€‚åœ¨æˆ‘ä»¬åœ¨&quot;Your First Rule&quot;ä¸­çš„XPathç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦æ£€æŸ¥ä¸€äº›VariableDeclaratorIdèŠ‚ç‚¹ã€‚è¿™æ˜¯XPathçš„åç§°ï¼Œä½†åœ¨Javaä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡ASTVariableDeclaratorIdç±»çš„æ–¹æ³•è·å–æƒ³è¦çš„æ•°æ®ã€‚</p><p>â€‹ å¦‚æœæƒ³è¦è¿›è¡Œä¸€äº›ç‰¹æ®Šçš„å¤„ç†ï¼Œé‡å†™visitæ–¹æ³•å³å¯ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRule</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractJavaRule</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">ASTVariableDeclaratorId</span> node<span class="token punctuation">,</span> <span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// This method is called on each node of type ASTVariableDeclaratorId</span>
        <span class="token comment">// in the AST</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">short</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// reports a violation at the position of the node</span>
            <span class="token comment">// the &quot;data&quot; parameter is a context object handed to by your rule</span>
            <span class="token comment">// the message for the violation is the message defined in the rule declaration XML element</span>
            <span class="token function">addViolation</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// this calls back to the default implementation, which recurses further down the subtree</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ æœ€åéœ€è¦è°ƒç”¨super.visit(node, data)æ–¹æ³•ä»¥ä½¿éå†ç»§ç»­ã€‚</p><h3 id="åœæ­¢éå†" tabindex="-1"><a class="header-anchor" href="#åœæ­¢éå†" aria-hidden="true">#</a> åœæ­¢éå†</h3><p>â€‹ å¦‚æœä½ åœ¨æ£€æŸ¥å®ŒæŸä¸ªèŠ‚ç‚¹åä¸æƒ³å†éå†å…¶å­èŠ‚ç‚¹ï¼Œå¯ä»¥ä¸è°ƒç”¨super.visitæ–¹æ³•ï¼Œæ­¤æ—¶è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å°†ä¸å†è¢«éå†ï¼Œä½†æ˜¯å…„å¼ŸèŠ‚ç‚¹è¿˜æ˜¯è¢«è¢«éå†ã€‚</p><h3 id="å¿«é€Ÿéå†-è§„åˆ™é“¾" tabindex="-1"><a class="header-anchor" href="#å¿«é€Ÿéå†-è§„åˆ™é“¾" aria-hidden="true">#</a> å¿«é€Ÿéå†ï¼šè§„åˆ™é“¾</h3><p>â€‹ å¦‚æœæ‚¨ä¸å…³å¿ƒèŠ‚ç‚¹çš„éå†é¡ºåºï¼ˆä¾‹å¦‚ï¼Œæ‚¨çš„è§„åˆ™åœ¨è®¿é—®ä¹‹é—´ä¸ç»´æŠ¤ä»»ä½•çŠ¶æ€ï¼‰ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨è§„åˆ™é“¾æ¥å¤§å¤§åŠ å¿«è§„åˆ™çš„é€Ÿåº¦ã€‚</p><p>â€‹ è¿™ç§æœºåˆ¶ä¸ä¼šå¯¹æ•´ä¸ªæ ‘è¿›è¡Œé€’å½’ï¼Œè€Œæ˜¯åªä¼šä¼ é€’æ‚¨æ„Ÿå…´è¶£çš„èŠ‚ç‚¹ç»™æ‚¨çš„è§„åˆ™ã€‚è¦æ­£ç¡®ä½¿ç”¨è§„åˆ™é“¾ï¼š</p><ol><li>æ‚¨çš„è§„åˆ™å¿…é¡»åœ¨å…¶æ„é€ å‡½æ•°ä¸­è°ƒç”¨<code>addRuleChainVisit</code>æ¥æ³¨å†Œé‚£äº›èŠ‚ç‚¹ç±»å‹ã€‚</li><li>æ‚¨çš„è®¿é—®æ–¹æ³•ä¸åº”é€’å½’ï¼å®é™…ä¸Šï¼Œåœ¨æ–¹æ³•ä¸­ä¸åº”è¯¥è°ƒç”¨<code>super.visit</code>ã€‚</li></ol><h3 id="è·¨æ–‡ä»¶æ‰§è¡Œ-çº¿ç¨‹å®‰å…¨å’ŒçŠ¶æ€æ€§" tabindex="-1"><a class="header-anchor" href="#è·¨æ–‡ä»¶æ‰§è¡Œ-çº¿ç¨‹å®‰å…¨å’ŒçŠ¶æ€æ€§" aria-hidden="true">#</a> è·¨æ–‡ä»¶æ‰§è¡Œï¼Œçº¿ç¨‹å®‰å…¨å’ŒçŠ¶æ€æ€§</h3><p>â€‹ åœ¨å¼€å§‹æ‰§è¡Œæ—¶ï¼ŒPMDå°†å®ä¾‹åŒ–æ–°çš„è§„åˆ™å®ä¾‹ã€‚å¦‚æœPMDåœ¨å¤šä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œï¼Œé‚£ä¹ˆæ¯ä¸ªçº¿ç¨‹éƒ½ä½¿ç”¨è‡ªå·±çš„è§„åˆ™å®ä¾‹ã€‚è¿™æ„å‘³ç€è§„åˆ™å®ç°ä¸éœ€è¦å…³å¿ƒçº¿ç¨‹é—®é¢˜ï¼Œå› ä¸ºPMDç¡®ä¿åŒä¸€ä¸ªå®ä¾‹ç”¨åœ¨å¤šä¸ªçº¿ç¨‹ä¸­ã€‚</p><p>â€‹ ç„¶è€Œï¼Œå‡ºäºæ€§èƒ½åŸå› ï¼Œè§„åˆ™å®ä¾‹ç”¨äºå¤šä¸ªæ–‡ä»¶ã€‚è¿™æ„å‘³ç€è§„åˆ™çš„æ„é€ å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ï¼ˆæ¯ä¸ªçº¿ç¨‹ä¸€æ¬¡ï¼‰ï¼Œå¹¶ä¸”è§„åˆ™å®ä¾‹ä¼šè¢«é‡ç”¨ã€‚å¦‚æœæ‚¨ä¾èµ–äºå®ä¾‹å±æ€§çš„æ­£ç¡®åˆå§‹åŒ–ï¼Œæ‚¨å¯ä»¥åœ¨ASTCompilationUnitèŠ‚ç‚¹çš„visitæ–¹æ³•ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œè¯¥èŠ‚ç‚¹é¦–å…ˆè®¿é—®æ¯ä¸ªæ–‡ä»¶å¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚ä¸è¿‡ï¼Œè¿™ç§è§£å†³æ–¹æ³•ä»…é€‚ç”¨äºé’ˆå¯¹Javaè¯­è¨€ç¼–å†™çš„è§„åˆ™ã€‚ä¸€ç§ä¸è¯­è¨€æ— å…³çš„æ–¹æ³•æ˜¯è¦†ç›–è§„åˆ™çš„<code>start</code>æ–¹æ³•ï¼Œ<code>start</code>æ–¹æ³•åœ¨æ¯ä¸ªæ–‡ä»¶ä¸­åªè°ƒç”¨ä¸€æ¬¡ã€‚</p><h2 id="è§„åˆ™ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#è§„åˆ™ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> è§„åˆ™ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="æ„å»º" tabindex="-1"><a class="header-anchor" href="#æ„å»º" aria-hidden="true">#</a> æ„å»º</h3><pre><code>ä»¥ä¸‹æ­¥éª¤åªæ‰§è¡Œä¸€æ¬¡ï¼š
</code></pre><p>â€‹ 1.å½“åŠ è½½è§„åˆ™é›†æ—¶ï¼Œè°ƒç”¨è§„åˆ™çš„æ— å‚æ„é€ å‡½æ•°ã€‚è§„åˆ™çš„æ„é€ å‡½æ•°å¿…é¡»å®šä¹‰ï¼š</p>`,21),w={href:"https://docs.pmd-code.org/latest/pmd_userdocs_extending_writing_java_rules.html#economic-traversal-the-rulechain",target:"_blank",rel:"noopener noreferrer"},A={href:"https://docs.pmd-code.org/latest/pmd_userdocs_extending_defining_properties.html#for-java-rules",target:"_blank",rel:"noopener noreferrer"},j={href:"https://docs.pmd-code.org/latest/pmd_userdocs_configuring_rules.html#rule-properties",target:"_blank",rel:"noopener noreferrer"},T=n("p",null,"â€‹ 3.é…ç½®é”™è¯¯çš„è§„åˆ™å°†ä»è§„åˆ™é›†ä¸­ç§»é™¤ã€‚",-1),J=n("h3",{id:"æ‰§è¡Œ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ‰§è¡Œ","aria-hidden":"true"},"#"),e(" æ‰§è¡Œ")],-1),M=n("pre",null,[n("code",null,`å¯¹äºæ¯ä¸ªçº¿ç¨‹ï¼Œéƒ½ä¼šåˆ›å»ºè§„åˆ™çš„æ·±æ‹·è´ã€‚æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šè·å¾—ä¸€ç»„ä¸åŒçš„è¦åˆ†æçš„æ–‡ä»¶ã€‚ç„¶åï¼Œå¯¹äºæ¯ä¸ªè¿™æ ·çš„æ–‡ä»¶ï¼Œå¯¹äºæ¯ä¸ªè§„åˆ™å‰¯æœ¬ï¼š
`)],-1),P={href:"https://docs.pmd-code.org/apidocs/pmd-core/7.0.0-rc4/net/sourceforge/pmd/Rule.html#start(net.sourceforge.pmd.RuleContext)",target:"_blank",rel:"noopener noreferrer"},S=n("code",null,"start",-1),D={href:"https://docs.pmd-code.org/apidocs/pmd-core/7.0.0-rc4/net/sourceforge/pmd/Rule.html#apply(java.util.List,net.sourceforge.pmd.RuleContext)",target:"_blank",rel:"noopener noreferrer"},V=n("code",null,"apply",-1),C=n("code",null,"ã€‚è¯¥æ–¹æ³•æ‰§è¡ŒASTéå†ï¼Œæœ€ç»ˆè°ƒç”¨è®¿é—®æ–¹æ³•ã€‚å¯¹äº",-1),I=n("code",null,"è§„åˆ™ï¼Œä¸ä¼šè°ƒç”¨",-1),X={href:"https://docs.pmd-code.org/apidocs/pmd-core/7.0.0-rc4/net/sourceforge/pmd/Rule.html#end(net.sourceforge.pmd.RuleContext)",target:"_blank",rel:"noopener noreferrer"},L=n("code",null,"end",-1);function q(N,B){const a=o("ExternalLinkIcon");return l(),c("div",null,[p,d,u,h,m,_,v,n("p",null,[e("ğŸ—ï¸"),n("a",k,[e("è¿™é‡Œå¯ä»¥ä¸åŒè¯­è¨€çš„å¸®åŠ©æ–‡æ¡£"),s(a)])]),b,f,g,x,n("p",null,[e("â€‹ å¤§å¤šæ•°åŸºæœ¬è§„åˆ™ç±»ä½¿ç”¨ "),n("a",y,[e("è®¿é—®è€…æ¨¡å¼"),s(a)]),e("æ¥éå†ASTã€‚")]),R,n("p",null,[e("â€‹ ğŸ“"),n("a",w,[e("è§„åˆ™é“¾è®¿é—®"),s(a)])]),n("p",null,[e("â€‹ ğŸ“ "),n("a",A,[e("å±æ€§æè¿°ç¬¦"),s(a)])]),n("p",null,[e("â€‹ 2.å¦‚æœè§„åˆ™ä½œä¸ºè§„åˆ™å¼•ç”¨åŒ…å«åœ¨è§„åˆ™é›†ä¸­ï¼ŒæŸäº›å±æ€§"),n("a",j,[e("å¯èƒ½ä¼šè¢«è¦†ç›–"),s(a)]),e("ã€‚å¦‚æœè¦†ç›–çš„å±æ€§æœªçŸ¥ï¼Œå°†æŠ¥å‘Šé”™è¯¯ã€‚")]),T,J,M,n("p",null,[e("â€‹ ğŸ“åœ¨è§£æä¹‹å‰ï¼Œä¼šè°ƒç”¨ä¸€æ¬¡"),n("a",P,[S,s(a)]),e("ã€‚")]),n("p",null,[e("â€‹ ğŸ“ä½¿ç”¨ASTçš„æ ¹èŠ‚ç‚¹è°ƒç”¨"),n("a",D,[V,s(a)]),C,e("RuleChain"),I,e("apply`ã€‚")]),n("p",null,[e("â€‹ ğŸ“å½“è§„åˆ™å®Œæˆæ–‡ä»¶å¤„ç†æ—¶ï¼Œä¼šè°ƒç”¨"),n("a",X,[L,s(a)]),e("ã€‚")])])}const O=t(i,[["render",q],["__file","4Javaè§„åˆ™.html.vue"]]);export{O as default};
