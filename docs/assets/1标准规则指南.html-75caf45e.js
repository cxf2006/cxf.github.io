import{_ as t,o as e,c as a,e as i}from"./app-d417e0ec.js";const p={},l=i('<h1 id="标准规则指南" tabindex="-1"><a class="header-anchor" href="#标准规则指南" aria-hidden="true">#</a> 标准规则指南</h1><p>Summary:包含在标准分发中的规则的准则</p><p>🎗️提示：这些指南是新的，大多数规则尚未遵循这些指南。目标是最终更新所有规则。</p><h2 id="为什么需要这些指南" tabindex="-1"><a class="header-anchor" href="#为什么需要这些指南" aria-hidden="true">#</a> 为什么需要这些指南？</h2><p>​ 🍸为了防止低质量的贡献。</p><p>​ 🍸为了减少审核规则所需的时间。</p><p>它们仅适用于标准分发中包括的规则。</p><h2 id="标准规则的要求" tabindex="-1"><a class="header-anchor" href="#标准规则的要求" aria-hidden="true">#</a> 标准规则的要求</h2><p>要被包括在标准的 PMD 中，一个规则需要：</p><ol><li>广泛适用性。它可以特定于一个框架，但该框架应该被广泛使用。</li><li>健全的文档。请参见下文。</li><li>如果它是性能规则：健全的基准测试。不包括微观优化规则。</li><li>不与其他规则重叠。</li></ol><h2 id="dos-don-ts-规则规范" tabindex="-1"><a class="header-anchor" href="#dos-don-ts-规则规范" aria-hidden="true">#</a> Dos/Don&#39;ts（规则规范）</h2><p>🍸规则命名</p><p>​ 🫓不要在规则的名称中包含规则的实现，因为如果规则的范围发生变化，后续将不好处理。</p><p>​ 🥩例如，SwitchStmtShouldHaveDefault -&gt; 由于枚举现在也存在，它们不一定需要再有一个默认情况，它们应该是穷尽的。所以规则名称现在不准确了...</p><p>​ 🥩例如，MissingBreakInSwitch -&gt; 很明显，这是用来查找遗漏的案例，但计算中断并不是一个明智的方法，但由于名称中已经包含了它，如果不重新命名规则，就不能改变它。</p><p>​ 🫓使用规则名称来命名违规所展现的基本问题。</p><p>​ 🥩例如，不要使用 &quot;SwitchStmtShouldHaveDefault&quot;，而是使用 &quot;NonExhaustiveSwitchStatement&quot; -&gt; 这是问题的本质，规则的描述将阐明为什么这是一个问题以及如何修复它（添加默认情况、添加分支，或将来采取其他措施）。</p><p>​ 🥩不要使用 &quot;MissingBreakInSwitch&quot;，而是使用 &quot;SwitchCaseFallsThrough&quot;。</p><p>​ 🫓不要为相同问题的不同实例创建多个规则。</p><p>​ 🥩EmptyIfStmt 和 EmptyWhileStmt 实际上是相同的问题，即树中存在无用的语法。</p><p>​ 🫓不要将规则名称严格限定于规则今天可以做的事情。</p><p>​ 🥩例如，&quot;UnusedPrivateField&quot; 是一个不好的名称。问题是有一个未使用的字段，而不是它是私有的。如果我们有能力查找未使用的包私有字段，我们也会报告它们。因此，如果有一天我们拥有了这种能力，使用像 &quot;UnusedField&quot; 这样的名称将允许我们保持不变。</p><p>🍸规则消息</p><p>​ 🫓写规则消息时要中性地指出应该被审查的问题或构造（例如：“不必要的括号”）。</p><p>​ 🫓不要写规则消息时给出命令形式的指令（尤其是没有解释原因的情况，例如：“避免不必要的括号”）。</p><p>​ 🫓不要写规则消息时使用重言（例如：“应该删除不必要的括号”）。这样的消息会引发烦躁的回应，比如：“是的，我知道，那又怎样？”。</p><p>🍸在规则描述中使用 Markdown，并在合理的 80 个字符处断行。</p><p>🍸要充分注释规则示例。必须清楚示例的位置在哪里。</p><p>🍸也要对你的 XPath 表达式进行注释。</p><h2 id="规则描述模板" tabindex="-1"><a class="header-anchor" href="#规则描述模板" aria-hidden="true">#</a> 规则描述模板</h2><ol><li>规则报告的内容（1个摘要行）</li><li>规则存在的原因以及可能有用的情况（包括自哪个语言版本开始等）</li><li>空行</li><li>解释规则所做的所有假设和在前一段中使用的关键词（“被覆盖的方法被忽略”，“根据这个规则，‘可见’字段是非私有的”）。</li><li>描述已知的限制（如果有的话）</li><li>空行</li><li>对于每个属性，解释它如何修改规则的假设以及为什么你希望使用它。如果你不能解释为什么它存在，那么它就不应该存在！</li></ol>',31),h=[l];function o(d,r){return e(),a("div",null,h)}const s=t(p,[["render",o],["__file","1标准规则指南.html.vue"]]);export{s as default};
