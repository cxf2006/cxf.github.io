import{_ as p,r as c,o,c as l,a as s,d as n,e as t,b as e}from"./app-1acd32cf.js";const i={},u=e(`<h1 id="è§„åˆ™æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#è§„åˆ™æµ‹è¯•" aria-hidden="true">#</a> è§„åˆ™æµ‹è¯•</h1><p>Summary:å­¦ä¼šå¦‚ä½•ä½¿ç”¨PMDçš„ä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¡†æ¶æ¥è¿›è¡Œè§„åˆ™çš„å•å…ƒæµ‹è¯•ã€‚</p><h2 id="å¼•è¨€" tabindex="-1"><a class="header-anchor" href="#å¼•è¨€" aria-hidden="true">#</a> å¼•è¨€</h2><p>â€‹ å¥½çš„è§„åˆ™åº”è¯¥æœ‰æµ‹è¯•ã€‚è‡³å°‘éœ€è¦ä¸€ä¸ªæ­£é¢æµ‹è¯•æ¡ˆä¾‹ - ä¸€ä¸ªè§¦å‘è§„åˆ™å¹¶æŠ¥å‘Šè¿è§„çš„ä»£ç ç¤ºä¾‹ - ä»¥åŠä¸€ä¸ªåé¢æµ‹è¯•æ¡ˆä¾‹ - ä¸€ä¸ªä¸ä¼šè§¦å‘è§„åˆ™çš„ä»£ç ç¤ºä¾‹ã€‚å½“ç„¶ï¼Œæµ‹è¯•è¶Šå¤šï¼Œè§„åˆ™çš„éªŒè¯å°±è¶Šå¥½ã€‚å¦‚æœè§„åˆ™æ›´å¤æ‚æˆ–å®šä¹‰äº†å¯ä»¥ä¿®æ”¹è¡Œä¸ºçš„å±æ€§ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥æµ‹è¯•è¿™äº›ä¸åŒæƒ…å†µã€‚</p><p>â€‹ å¦‚æœå¯¹è§„åˆ™è¿›è¡Œäº†é”™è¯¯ä¿®å¤ï¼Œæ— è®ºæ˜¯è¯¯æŠ¥è¿˜æ˜¯æ¼æŠ¥ï¼Œéƒ½åº”è¯¥ä¼´éšç€é¢å¤–çš„æµ‹è¯•æ¡ˆä¾‹ï¼Œä»¥ç¡®ä¿ä¸ä¼šåœ¨ä»¥åæ— æ„ä¸­é‡æ–°å¼•å…¥é”™è¯¯ã€‚</p><h2 id="å·¥ä½œåŸç†" tabindex="-1"><a class="header-anchor" href="#å·¥ä½œåŸç†" aria-hidden="true">#</a> å·¥ä½œåŸç†</h2><p>â€‹ PMDçš„å†…ç½®è§„åˆ™ç»„ç»‡æˆè§„åˆ™é›†ï¼Œå…¶ä¸­å±äºç›¸åŒç±»åˆ«çš„æ‰€æœ‰è§„åˆ™éƒ½æ”¾åœ¨ä¸€ä¸ªè§„åˆ™é›†ä¸­ï¼Œä¾‹å¦‚â€œcategory/java/bestpractices.xmlâ€ã€‚æ¯ä¸ªç±»åˆ«è§„åˆ™é›†éƒ½æœ‰ä¸€ä¸ªæŠ½è±¡åŸºæœ¬æµ‹è¯•ç±»ï¼Œå„ä¸ªè§„åˆ™çš„æµ‹è¯•ç±»éƒ½ç»§æ‰¿è‡ªå®ƒã€‚æˆ‘ä»¬ä¸ºæ¯ä¸ªè§„åˆ™åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œç”¨äºæ‰§è¡Œå•ä¸ªè§„åˆ™çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚å®é™…çš„æµ‹è¯•ç”¨ä¾‹å­˜å‚¨åœ¨å•ç‹¬çš„XMLæ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªè§„åˆ™éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ã€‚</p><p>â€‹ æ‰€æœ‰çš„æµ‹è¯•ç±»éƒ½ç»§æ‰¿è‡ª<code>net.sourceforge.pmd.testframework.PmdRuleTst</code>ï¼Œå®ƒæä¾›äº†ä¸JUnit5çš„æ— ç¼é›†æˆã€‚è¿™ä¸ªåŸºç±»ä»å…·ä½“çš„æµ‹è¯•ç±»ä¸­ç¡®å®šäº†è¯­è¨€ã€ç±»åˆ«åç§°å’Œè§„åˆ™åç§°ã€‚ç„¶åï¼Œå®ƒè‡ªå·±æœç´¢æµ‹è¯•ä»£ç ã€‚ä¾‹å¦‚ï¼Œå…·ä½“çš„è§„åˆ™æµ‹è¯•ç±»<code>net.sourceforge.pmd.lang.java.rule.bestpractices.AbstractClassWithoutAbstractMethodTest</code>æµ‹è¯•äº†åç§°ä¸ºâ€œAbstractClassWithoutAbstractMethodâ€çš„è§„åˆ™ï¼Œè¯¥è§„åˆ™å±äºè¯­è¨€â€œjavaâ€çš„â€œbestpracticesâ€ç±»åˆ«ã€‚</p><p>â€‹ æµ‹è¯•ä»£ç ï¼ˆå‚è§ä¸‹é¢çš„æµ‹è¯•XMLå‚è€ƒï¼‰å®Œæ•´åœ°æè¿°äº†æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬é¢„æœŸçš„è¡Œä¸ºï¼Œä¾‹å¦‚é¢„æœŸçš„è§„åˆ™è¿ä¾‹æ•°é‡ã€è¿ä¾‹çš„ä½ç½®ç­‰ç­‰ã€‚</p><p>â€‹ åœ¨ä½ çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆå¦‚Eclipseæˆ–IntelliJ IDEAï¼‰ä¸­è¿è¡Œæµ‹è¯•ç±»æ—¶ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©å•ä¸ªæµ‹è¯•ç”¨ä¾‹å¹¶ä»…æ‰§è¡Œè¯¥æµ‹è¯•ç”¨ä¾‹ã€‚</p><h2 id="æµ‹è¯•ä»£ç å­˜æ”¾ä½ç½®" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ä»£ç å­˜æ”¾ä½ç½®" aria-hidden="true">#</a> æµ‹è¯•ä»£ç å­˜æ”¾ä½ç½®</h2><p>â€‹ æµ‹è¯•ä»£ç åº”æ”¾ç½®åœ¨è§„åˆ™æ‰€åœ¨çš„æµ‹è¯•èµ„æºç›®å½•ä¸‹ã€‚è§„åˆ™çš„æµ‹è¯•èµ„æºæ–‡ä»¶åº”è¯¥éµå¾ªä»¥ä¸‹çº¦å®šï¼šXMLæ–‡ä»¶æ˜¯ä¸€ä¸ªæµ‹è¯•èµ„æºï¼Œå› æ­¤å®ƒåœ¨src/test/resourcesç›®å½•æ ‘ä¸‹æœç´¢ã€‚</p><p>â€‹ æµ‹è¯•ç±»çš„å­åŒ…xmlåº”åŒ…å«ä¸è§„åˆ™åç§°ç›¸åŒçš„æ–‡ä»¶ï¼Œä½äºtestä¸‹ã€‚</p><p>â€‹ ä¾‹å¦‚ï¼Œè¦æµ‹è¯•è§„åˆ™â€œAbstractClassWithoutAbstractMethodâ€ï¼Œå®Œå…¨é™å®šçš„æµ‹è¯•ç±»åç§°æ˜¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>net.sourceforge.pmd.lang.java.rule.bestpractices.AbstractClassWithoutAbstractMethodTest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>â€‹ è§„åˆ™çš„æµ‹è¯•ä»£ç å¯ä»¥åœ¨ä¸‹é¢çš„è¿™ä¸ªæ–‡ä»¶æ‰¾åˆ°ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>src/test/resources/net/sourceforge/pmd/lang/java/rule/bestpractices/xml/AbstractClassWithoutAbstractMethod.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>â€‹ é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæµ‹è¯•ç±»å’Œæ•°æ®çš„ç±»åç§°å’Œæ–‡ä»¶åæ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>net.sourceforge.pmd.lang.&lt;Language Terse Name&gt;.rule.&lt;Category Name&gt;.&lt;Rule Name&gt;Test
src/test/resources/net/sourceforge/pmd/lang/&lt;Language Terse Name&gt;/rule/&lt;Category Name&gt;/xml/&lt;Rule Name&gt;.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ—ï¸è¿™ä¸ªçº¦å®šä½¿ä½ å¯ä»¥å¿«é€Ÿæ‰¾åˆ°ç»™å®šè§„åˆ™çš„æµ‹è¯•ç”¨ä¾‹ï¼šåªéœ€åœ¨é¡¹ç›®ä¸­æœç´¢æ–‡ä»¶&lt;Rule Name&gt;.xmlã€‚æœç´¢ç±»&lt;Rule Name&gt;Testä»¥æ‰¾åˆ°ç»™å®šè§„åˆ™çš„å•å…ƒæµ‹è¯•ç±»ã€‚å¦‚æœè§„åˆ™æ˜¯åŸºäºJavaçš„è§„åˆ™ï¼Œæœç´¢&lt;Rule Name&gt;Ruleå°†æ‰¾åˆ°è§„åˆ™å®ç°ç±»ã€‚</p>`,20),d={href:"https://docs.pmd-code.org/latest/pmd_userdocs_extending_testing.html#using-the-test-framework-externally",target:"_blank",rel:"noopener noreferrer"},r=e(`<h2 id="ç®€å•çš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#ç®€å•çš„ä¾‹å­" aria-hidden="true">#</a> ç®€å•çš„ä¾‹å­</h2><h3 id="æµ‹è¯•ç±»" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ç±»" aria-hidden="true">#</a> æµ‹è¯•ç±»</h3><p>â€‹ AbstractClassWithoutAbstractMethodTest</p><p>â€‹ è¿™ä¸ªç±»ç»§æ‰¿è‡ªPmdRuleTstï¼Œå¹¶ä½äºâ€œbestpracticesâ€åŒ…ä¸­ï¼Œå› ä¸ºè¯¥è§„åˆ™å±äºâ€œæœ€ä½³å®è·µâ€ç±»åˆ«ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">net<span class="token punctuation">.</span>sourceforge<span class="token punctuation">.</span>pmd<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>java<span class="token punctuation">.</span>rule<span class="token punctuation">.</span>bestpractices</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sourceforge<span class="token punctuation">.</span>pmd<span class="token punctuation">.</span>testframework<span class="token punctuation">.</span></span><span class="token class-name">PmdRuleTst</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AbstractClassWithoutAbstractMethodTest</span> <span class="token keyword">extends</span> <span class="token class-name">PmdRuleTst</span> <span class="token punctuation">{</span>
    <span class="token comment">// no additional unit tests</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ—ï¸ä½ ä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªæµ‹è¯•ç±»ä¸­æ·»åŠ æ ‡æœ‰@Testæ³¨è§£çš„æ ‡å‡†JUnitæµ‹è¯•æ–¹æ³•ã€‚</p><h3 id="æµ‹è¯•æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•æ•°æ®" aria-hidden="true">#</a> æµ‹è¯•æ•°æ®</h3><pre><code>AvoidBranchingStatementAsLastInLoop.xml
</code></pre><p>â€‹ è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„ç¤ºä¾‹ï¼ŒåªåŒ…å«ä¸¤ä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-data</span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://pmd.sourceforge.net/rule-tests<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://pmd.sourceforge.net/rule-tests https://pmd.sourceforge.io/rule-tests_1_0_0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-code</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>concrete class<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-problems</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-problems</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[
public class Foo {}
    ]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-code</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-code</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>failure case<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-problems</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-problems</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-linenumbers</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-linenumbers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[
public abstract class Foo {}
    ]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-data</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½åœ¨ç‹¬ç«‹çš„&lt;test-code&gt;å…ƒç´ ä¸­ã€‚ç¬¬ä¸€ä¸ªå®šä¹‰äº†0ä¸ªé¢„æœŸé—®é¢˜ï¼Œè¿™æ„å‘³ç€æ­¤ä»£ç ä¸ä¼šè§¦å‘è§„åˆ™ã€‚ç¬¬äºŒä¸ªæµ‹è¯•ç”¨ä¾‹æœŸæœ›æœ‰1ä¸ªé—®é¢˜ã€‚ç”±äºè§„åˆ™è¿è§„æŠ¥å‘Šè¿˜ä¼šæä¾›ç¡®åˆ‡çš„ASTèŠ‚ç‚¹ï¼Œæ‚¨è¿˜å¯ä»¥éªŒè¯è¡Œå·ã€‚</p><h2 id="æµ‹è¯•xmlæŒ‡å—" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•xmlæŒ‡å—" aria-hidden="true">#</a> æµ‹è¯•XMLæŒ‡å—</h2><p>â€‹ æ ¹å…ƒç´ æ˜¯ <code>&lt;test-data&gt;</code>ã€‚å®ƒå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª <code>&lt;test-code&gt;</code> å’Œ <code>&lt;code-fragment&gt;</code> å…ƒç´ ã€‚æ¯ä¸ª <code>&lt;test-code&gt;</code> å…ƒç´ å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„æµ‹è¯•ç”¨ä¾‹ã€‚<code>&lt;code-fragment&gt;</code> å…ƒç´ ç”¨äºåœ¨ä¸åŒæµ‹è¯•ç”¨ä¾‹ä¹‹é—´å…±äº«ä»£ç ç‰‡æ®µã€‚</p>`,13),k={href:"https://github.com/pmd/pmd/blob/master/pmd-test-schema/src/main/resources/net/sourceforge/pmd/test/schema/rule-tests_1_0_0.xsd",target:"_blank",rel:"noopener noreferrer"},g=e(`<h3 id="test-code-å…ƒç´ çš„å±æ€§" tabindex="-1"><a class="header-anchor" href="#test-code-å…ƒç´ çš„å±æ€§" aria-hidden="true">#</a> &lt;test-code&gt;å…ƒç´ çš„å±æ€§</h3><p>â€‹ &lt;test-code&gt;å…ƒç´ æ”¯æŒä»¥ä¸‹å¯é€‰å±æ€§ï¼š</p><p>â€‹ ğŸ“disabled: é»˜è®¤æƒ…å†µä¸‹ä¸ºfalseã€‚å°†å…¶è®¾ç½®ä¸ºtrueï¼Œä»¥å¿½ç•¥å’Œè·³è¿‡æµ‹è¯•ç”¨ä¾‹ã€‚</p><p>â€‹ ğŸ“focused: é»˜è®¤æƒ…å†µä¸‹ä¸ºfalseã€‚å°†å…¶è®¾ç½®ä¸ºtrueï¼Œä»¥å¿½ç•¥æ‰€æœ‰å…¶ä»–æµ‹è¯•ç”¨ä¾‹ã€‚</p><h3 id="test-code-å­å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#test-code-å­å…ƒç´ " aria-hidden="true">#</a> &lt;test-code&gt;å­å…ƒç´ </h3><p>â€‹ ğŸ“&lt;description&gt;: æµ‹è¯•ç”¨ä¾‹çš„ç®€çŸ­æè¿°ã€‚è¿™å°†æˆä¸ºæŠ¥å‘Šä¸­çš„JUnitæµ‹è¯•åç§°ã€‚å¦‚æœé€‚ç”¨ï¼Œæ­¤æè¿°åº”åŒ…å«å¯¹å¤ç°æ­¤æµ‹è¯•ç”¨ä¾‹çš„é”™è¯¯ç¼–å·çš„å¼•ç”¨ã€‚</p><p>â€‹ ğŸ“&lt;rule-property&gt;: å¦‚æœè§„åˆ™å¯é…ç½®ï¼Œè¿™æ˜¯å¯é€‰çš„è§„åˆ™å±æ€§ã€‚åªéœ€æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œä»¥ä¸ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹è®¾ç½®å¤šä¸ªå±æ€§ã€‚æœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚è§ä¸‹æ–‡ã€‚</p><p>â€‹ ğŸ“&lt;expected-problems&gt;: é¢„æœŸè§„åˆ™è¿è§„çš„åŸå§‹æ•°é‡ï¼Œè¯¥è§„åˆ™é¢„è®¡è¦æŠ¥å‘Šçš„ã€‚å¯¹äºè¯¯æŠ¥çš„æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™æ€»æ˜¯â€œ0â€ã€‚å¯¹äºæ¼æŠ¥çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¯ä»¥æ˜¯ä»»ä½•æ­£æ•°ã€‚</p><p>â€‹ ğŸ“&lt;expected-linenumbers&gt;: å¯é€‰å…ƒç´ ã€‚å®ƒæ˜¯é€—å·åˆ†éš”çš„è¡Œå·åˆ—è¡¨ã€‚å¦‚æœæŠ¥å‘Šäº†è§„åˆ™è¿è§„ï¼Œè¿™å…è®¸æ‚¨æ–­è¨€è¡Œå·ã€‚å¦‚æœéœ€è¦æ£€æµ‹å¤šä¸ªè¿è§„ï¼Œå¹¶ç¡®ä¿è¯¯æŠ¥å’Œæ¼æŠ¥ä¸äº’ç›¸æŠµæ¶ˆï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚</p><p>â€‹ ğŸ“&lt;expected-messages&gt;: å¸¦æœ‰&lt;message&gt;å…ƒç´ ä½œä¸ºå­å…ƒç´ çš„å¯é€‰å…ƒç´ ã€‚å¯ç”¨äºéªŒè¯æ­£ç¡®çš„é”™è¯¯æ¶ˆæ¯ï¼Œä¾‹å¦‚ï¼Œå¦‚æœé”™è¯¯æ¶ˆæ¯å¼•ç”¨å˜é‡åç§°ã€‚</p><p>â€‹ ğŸ“&lt;code&gt;: å¿…é¡»æä¾›&lt;code&gt;å…ƒç´ æˆ–&lt;code-ref&gt;å…ƒç´ ä¹‹ä¸€ã€‚å®ƒæä¾›äº†è§„åˆ™æ‰§è¡Œçš„å®é™…ä»£ç ç‰‡æ®µã€‚ä»£ç æœ¬èº«é€šå¸¸åŒ…å«åœ¨â€œCDATAâ€éƒ¨åˆ†ä¸­ï¼Œå› æ­¤ä¸éœ€è¦è¿›ä¸€æ­¥çš„XMLè½¬ä¹‰ï¼ˆå¦‚å®ä½“å¼•ç”¨ï¼Œå¦‚&lt;ï¼‰ã€‚</p><p>â€‹ ğŸ“&lt;code-ref id=...&gt;: &lt;code&gt;çš„æ›¿ä»£é€‰é¡¹ã€‚å¼•ç”¨æ–‡ä»¶ä¸­å…ˆå‰å®šä¹‰çš„&lt;code-fragment&gt;ã€‚è¿™å…è®¸æ‚¨ä¸å¤šä¸ªæµ‹è¯•ç”¨ä¾‹å…±äº«ç›¸åŒçš„ä»£ç ç‰‡æ®µã€‚idå±æ€§å¿…é¡»ä¸å¼•ç”¨çš„ä»£ç ç‰‡æ®µçš„idåŒ¹é…ã€‚</p><p>â€‹ ğŸ“&lt;source-type&gt;: å¯é€‰å…ƒç´ ï¼Œç”¨äºæŒ‡å®šç‰¹å®šçš„è¯­è¨€ç‰ˆæœ¬ã€‚è¿™å¯ç”¨äºé€‰æ‹©ç”¨äºè§£æä»£ç ç‰‡æ®µçš„ç‰¹å®šè§£æå™¨ç‰ˆæœ¬ã€‚å¦‚æœæœªæä¾›ï¼Œå°†ä½¿ç”¨è§„åˆ™è¯­è¨€çš„é»˜è®¤ç‰ˆæœ¬ã€‚å‡ ä¹æ€»æ˜¯å¯ä»¥çœç•¥æ­¤å…ƒç´ ã€‚</p><h3 id="code-fragment" tabindex="-1"><a class="header-anchor" href="#code-fragment" aria-hidden="true">#</a> &lt;code-fragment&gt;</h3><p>â€‹ ä»£ç ç‰‡æ®µåªæœ‰ä¸€ä¸ªå¿…éœ€å±æ€§ï¼šidã€‚æ­¤å±æ€§ç”¨äºé€šè¿‡&lt;test-code&gt;å†…çš„&lt;code-ref&gt;å…ƒç´ å¼•ç”¨å®ƒã€‚ä¸&lt;code&gt;å…ƒç´ ç±»ä¼¼ï¼Œ&lt;code-fragment&gt;çš„å†…å®¹é€šå¸¸åŒ…å«åœ¨â€œCDATAâ€éƒ¨åˆ†ä¸­ï¼Œå› æ­¤ä¸éœ€è¦è¿›ä¸€æ­¥çš„XMLè½¬ä¹‰ï¼ˆå¦‚å®ä½“å¼•ç”¨ï¼Œå¦‚&lt;ï¼‰ã€‚</p><h3 id="ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­" aria-hidden="true">#</a> ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-data</span>
    <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://pmd.sourceforge.net/rule-tests<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://pmd.sourceforge.net/rule-tests https://pmd.sourceforge.io/rule-tests_1_0_0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-code</span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Just a description, will be used as the test name for JUnit in the reports<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rule-property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>somePropName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>propValue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rule-property</span><span class="token punctuation">&gt;</span></span>    <span class="token comment">&lt;!-- optional --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-problems</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-problems</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-linenumbers</span><span class="token punctuation">&gt;</span></span>5,14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-linenumbers</span><span class="token punctuation">&gt;</span></span>               <span class="token comment">&lt;!-- optional --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-messages</span><span class="token punctuation">&gt;</span></span>                                             <span class="token comment">&lt;!-- optional --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">&gt;</span></span>Violation message 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">&gt;</span></span>Violation message 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-messages</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[
public class ConsistentReturn {
    public Boolean foo() {
    }
}
        ]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source-type</span><span class="token punctuation">&gt;</span></span>java 1.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source-type</span><span class="token punctuation">&gt;</span></span>                             <span class="token comment">&lt;!-- optional --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-code</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code-fragment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>codeSnippet1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[
public class ConsistentReturn {
    public Boolean foo() {
    }
}
    ]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code-fragment</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test-code</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>test case using a code fragment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expected-problems</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>expected-problems</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code-ref</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>codeSnippet1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-code</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>test-data</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ—ï¸ä¸ºäº†æ›´å¥½çš„å¯è¯»æ€§ï¼Œç¼©è¿›åº”ä¸º4ä¸ªç©ºæ ¼ï¼Œä¸è¦ä½¿ç”¨åˆ¶è¡¨ç¬¦ã€‚æ¯ä¸ªtest-codeä¹‹é—´åº”æœ‰ä¸€ä¸ªç©ºè¡Œåˆ†éš”ã€‚åªæœ‰å¸Œæœ›ä»¥ç¼©è¿›æ ¼å¼å‘ˆç°ä»¥æé«˜å¯è¯»æ€§çš„ä»£ç ç‰‡æ®µæ‰éœ€è¦CDATAéƒ¨åˆ†ã€‚æè¿°å¯ä»¥ç›´æ¥ä¹¦å†™ï¼Œæ— éœ€CDATAéƒ¨åˆ†ã€‚</p><h2 id="å¤–éƒ¨ä½¿ç”¨æµ‹è¯•æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#å¤–éƒ¨ä½¿ç”¨æµ‹è¯•æ¡†æ¶" aria-hidden="true">#</a> å¤–éƒ¨ä½¿ç”¨æµ‹è¯•æ¡†æ¶</h2><p>â€‹ è¿˜å¯ä»¥å°†æµ‹è¯•æ¡†æ¶ç”¨äºåœ¨PMDæºä»£ç åŸºç¡€ä¹‹å¤–å¼€å‘çš„è‡ªå®šä¹‰è§„åˆ™ã€‚è¦ä½¿ç”¨æµ‹è¯•æ¡†æ¶ï¼Œåªéœ€å¼•ç”¨net.sourceforge.pmd:pmd-testçš„ä¾èµ–é¡¹å³å¯ã€‚</p><p>â€‹ mavenä¸­å¯ä»¥è¿™æ ·å¼•ç”¨ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>net.sourceforge.pmd<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pmd-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>7.0.0-rc4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ ç„¶åæŒ‰ç…§ä¹‹å‰æè¿°çš„æ­¥éª¤è¿›è¡Œï¼šåˆ›å»ºæ‚¨çš„æµ‹è¯•ç±»ï¼Œåˆ›å»ºæ‚¨çš„æµ‹è¯•ç”¨ä¾‹å¹¶è¿è¡Œå•å…ƒæµ‹è¯•ã€‚</p><p>â€‹ ä¸è¿‡æœ‰ä¸€ä¸ªåŒºåˆ«ï¼šç”±äºæ‚¨çš„åŒ…ç»“æ„å¯èƒ½ä¸åŒï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨æ³¨å†Œè§„åˆ™æµ‹è¯•ï¼Œå› ä¸ºSimpleAggregatorTstå°†æ— æ³•æ­£ç¡®ä»åŒ…å’Œç±»åç§°ä¸­ç¡®å®šå®ƒï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>pmd<span class="token punctuation">.</span>rules</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sourceforge<span class="token punctuation">.</span>pmd<span class="token punctuation">.</span>testframework<span class="token punctuation">.</span></span><span class="token class-name">SimpleAggregatorTst</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CustomRuleTest</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleAggregatorTst</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">addRule</span><span class="token punctuation">(</span><span class="token string">&quot;com/example/pmd/ruleset.xml&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;CustomRule&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ ç„¶åï¼Œå®ƒå°†åœ¨è§„åˆ™é›†ä¸­æŸ¥æ‰¾åä¸ºâ€œCustomRuleâ€çš„è§„åˆ™ï¼Œè¯¥è§„åˆ™ä½äºè·¯å¾„â€œcom/example/pmd/ruleset.xmlâ€ä¸‹çš„â€œsrc/main/resourcesâ€ä¸­ã€‚</p><p>â€‹ æµ‹è¯•æ•°æ®åº”æ”¾åœ¨ä¸€ä¸ªXMLæ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶ä½äºè·¯å¾„â€œcom/example/pmd/rules/xml/CustomRule.xmlâ€ä¸‹çš„â€œsrc/test/resourcesâ€ä¸­ã€‚</p><h2 id="æµ‹è¯•æ¡†æ¶çš„å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•æ¡†æ¶çš„å®ç°æ–¹å¼" aria-hidden="true">#</a> æµ‹è¯•æ¡†æ¶çš„å®ç°æ–¹å¼</h2>`,28),m={href:"https://junit.org/junit5/docs/current/user-guide/#writing-tests-dynamic-tests",target:"_blank",rel:"noopener noreferrer"},v=s("p",null,"â€‹ ğŸ“PmdRuleTstï¼šè¿™æ˜¯PMDä»£ç åº“ä¸­æµ‹è¯•çš„åŸºç±»ã€‚å®ƒæ˜¯RuleTstçš„å­ç±»ï¼ŒåªåŒ…å«åŸºäºæµ‹è¯•ç±»åç¡®å®šæµ‹è¯•èµ„æºçš„é€»è¾‘ã€‚",-1),b=s("p",null,"â€‹ ğŸ“SimpleAggregatorTstï¼šè¿™æ˜¯æµ‹è¯•ç±»çš„æ›´é€šç”¨çš„åŸºç±»ã€‚å®ƒæœ¬èº«ä¸æ³¨å†Œä»»ä½•æµ‹è¯•ç”¨ä¾‹ã€‚æ‚¨å¯ä»¥æ³¨å†Œè‡ªå·±çš„è§„åˆ™æµ‹è¯•ã€‚å®ƒæœ¬èº«æ˜¯RuleTstçš„å­ç±»ã€‚",-1),h=s("p",null,"â€‹ ğŸ“Mavenæ¨¡å—â€œpmd-test-schemaâ€åŒ…å«è§£æXMLæ–‡ä»¶å¹¶æä¾›RuleTestCollectionçš„é€»è¾‘ã€‚RuleTestCollectionåˆåŒ…å«ä¸€ç³»åˆ—RuleTestDescriptorsã€‚æ¯ä¸ªè§„åˆ™æµ‹è¯•æè¿°ç¬¦æè¿°ä¸€ä¸ªå•ç‹¬çš„æµ‹è¯•ç”¨ä¾‹ã€‚",-1),x=s("p",null,"â€‹ ğŸ“RuleTstï¼šä½¿ç”¨æ¨¡å—â€œpmd-test-schemaâ€çš„TestSchemaParseræ¥è§£ææµ‹è¯•ç”¨ä¾‹ï¼Œæ‰§è¡Œæ¯ä¸ªè§„åˆ™æµ‹è¯•æè¿°ç¬¦å¹¶æ–­è¨€ç»“æœã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªåä¸ºruleTests()çš„æµ‹è¯•æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªæµ‹è¯•å·¥å‚ï¼Œä¸ºæ¯ä¸ªè§„åˆ™æµ‹è¯•è¿”å›ä¸€ä¸ªåŠ¨æ€æµ‹è¯•ã€‚",-1);function f(_,q){const a=c("ExternalLinkIcon");return o(),l("div",null,[u,s("p",null,[n("ğŸ—ï¸å¦‚æœä½ æƒ³åœ¨è¿™ä¸ªæµ‹è¯•æ¡†æ¶ä¸‹ä½¿ç”¨ä¸åŒçš„åŒ…ç»“æ„ï¼Œå‚è€ƒ"),s("a",d,[n("æ‰©å±•æµ‹è¯•æ¡†æ¶"),t(a)])]),r,s("p",null,[n("â€‹ ğŸ—ï¸XMLç»“æ„çº¦æŸæ–‡ä»¶ "),s("a",k,[n("rule-tests.xsd"),t(a)])]),g,s("p",null,[n("â€‹ è¯¥æ¡†æ¶åœ¨åº•å±‚ä½¿ç”¨JUnit5çš„ "),s("a",m,[n("åŠ¨æ€æµ‹è¯•åŠŸèƒ½"),t(a)]),n("ï¼Œä»¥åŠä¸€äº›å®ç”¨å·¥å…·ç±»ï¼š")]),v,b,h,x])}const A=p(i,[["render",f],["__file","8è§„åˆ™æµ‹è¯•.html.vue"]]);export{A as default};
