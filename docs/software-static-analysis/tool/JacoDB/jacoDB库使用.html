<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.66">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>一  jacodb基础 | cxf笔记</title><meta name="description" content="cxf笔记">
    <link rel="preload" href="/notes/assets/style-3a1bb923.css" as="style"><link rel="stylesheet" href="/notes/assets/style-3a1bb923.css">
    <link rel="modulepreload" href="/notes/assets/app-26a5a8f2.js"><link rel="modulepreload" href="/notes/assets/jacoDB库使用.html-2cc65939.js"><link rel="modulepreload" href="/notes/assets/jacoDB库使用.html-c6b77714.js"><link rel="prefetch" href="/notes/assets/index.html-888e05bc.js" as="script"><link rel="prefetch" href="/notes/assets/tcpdump.html-3c6500c8.js" as="script"><link rel="prefetch" href="/notes/assets/镜像源地址.html-99603187.js" as="script"><link rel="prefetch" href="/notes/assets/资料搜集.html-5f23e9f7.js" as="script"><link rel="prefetch" href="/notes/assets/POM.html-366d9bd4.js" as="script"><link rel="prefetch" href="/notes/assets/settings.html-4cce38d7.js" as="script"><link rel="prefetch" href="/notes/assets/C4模式架构设计总结.html-30d35188.js" as="script"><link rel="prefetch" href="/notes/assets/consul.html-62c7a82b.js" as="script"><link rel="prefetch" href="/notes/assets/gogs.html-44dcd02b.js" as="script"><link rel="prefetch" href="/notes/assets/docker安装命令.html-38ba33d6.js" as="script"><link rel="prefetch" href="/notes/assets/备忘.html-336ab994.js" as="script"><link rel="prefetch" href="/notes/assets/安装.html-74a3a3ae.js" as="script"><link rel="prefetch" href="/notes/assets/配置文件参数.html-ff54d059.js" as="script"><link rel="prefetch" href="/notes/assets/ldap使用.html-92f6f799.js" as="script"><link rel="prefetch" href="/notes/assets/openldap安装.html-3b815c4d.js" as="script"><link rel="prefetch" href="/notes/assets/安装.html-162a9fb1.js" as="script"><link rel="prefetch" href="/notes/assets/centos-stream-9.html-3241ec45.js" as="script"><link rel="prefetch" href="/notes/assets/docker使用.html-b446a7c6.js" as="script"><link rel="prefetch" href="/notes/assets/docker安装.html-1e39ba58.js" as="script"><link rel="prefetch" href="/notes/assets/基础命令.html-c9718891.js" as="script"><link rel="prefetch" href="/notes/assets/相关连接.html-8c743c27.js" as="script"><link rel="prefetch" href="/notes/assets/sqlite3linux客户端.html-97aff93d.js" as="script"><link rel="prefetch" href="/notes/assets/基础镜像安装常用软件.html-d5dbf04a.js" as="script"><link rel="prefetch" href="/notes/assets/cJSON使用.html-ccf01227.js" as="script"><link rel="prefetch" href="/notes/assets/内存申请和释放.html-552acc82.js" as="script"><link rel="prefetch" href="/notes/assets/数据结构.html-e1a824ec.js" as="script"><link rel="prefetch" href="/notes/assets/线程.html-efed6c03.js" as="script"><link rel="prefetch" href="/notes/assets/编译指令.html-f05d7425.js" as="script"><link rel="prefetch" href="/notes/assets/语法.html-5d47a74c.js" as="script"><link rel="prefetch" href="/notes/assets/下载go.html-27b819c7.js" as="script"><link rel="prefetch" href="/notes/assets/udp通讯.html-d2eb6c42.js" as="script"><link rel="prefetch" href="/notes/assets/zigbee协议栈整体架构.html-9be42f64.js" as="script"><link rel="prefetch" href="/notes/assets/概念.html-f3e0735f.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-87fce294.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr CLI.html-7ab57651.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr Cloud Service.html-6acc2862.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr DSL.html-dc53f19a.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr Lite.html-902e832f.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr On-premises.html-06d9466b.js" as="script"><link rel="prefetch" href="/notes/assets/network.html-42e45a85.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-16df2220.js" as="script"><link rel="prefetch" href="/notes/assets/mysql.html-586f7c25.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-97fc36aa.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-fc931d2d.js" as="script"><link rel="prefetch" href="/notes/assets/99问题.html-b900587a.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-9647a821.js" as="script"><link rel="prefetch" href="/notes/assets/参考链接.html-c638d097.js" as="script"><link rel="prefetch" href="/notes/assets/命令行调用PMD.html-a66a31c6.js" as="script"><link rel="prefetch" href="/notes/assets/官方使用指南.html-be6f9d87.js" as="script"><link rel="prefetch" href="/notes/assets/1首页.html-d4f34321.js" as="script"><link rel="prefetch" href="/notes/assets/2发布说明.html-d7382674.js" as="script"><link rel="prefetch" href="/notes/assets/3发布说明(PMD 7).html-776ea695.js" as="script"><link rel="prefetch" href="/notes/assets/4获取帮助.html-9f8b6de7.js" as="script"><link rel="prefetch" href="/notes/assets/10第三方规则集.html-dfe55436.js" as="script"><link rel="prefetch" href="/notes/assets/1PMD6.x迁移到PMD7.html-0e2ddc2c.js" as="script"><link rel="prefetch" href="/notes/assets/2安装和基本cli使用.html-960db7b3.js" as="script"><link rel="prefetch" href="/notes/assets/3制作规则集.html-6480b027.js" as="script"><link rel="prefetch" href="/notes/assets/4配置规则.html-2c28525c.js" as="script"><link rel="prefetch" href="/notes/assets/5最佳实践.html-b13036cd.js" as="script"><link rel="prefetch" href="/notes/assets/6压制告警.html-adf5365c.js" as="script"><link rel="prefetch" href="/notes/assets/7增量分析.html-c897916a.js" as="script"><link rel="prefetch" href="/notes/assets/8PMD命令参考.html-a058953d.js" as="script"><link rel="prefetch" href="/notes/assets/9PMD报告格式.html-85973fba.js" as="script"><link rel="prefetch" href="/notes/assets/10HTML.html-2e020068.js" as="script"><link rel="prefetch" href="/notes/assets/11Gherkin.html-0c0a21ef.js" as="script"><link rel="prefetch" href="/notes/assets/12Julia.html-71064d6c.js" as="script"><link rel="prefetch" href="/notes/assets/13Coco.html-28508501.js" as="script"><link rel="prefetch" href="/notes/assets/1语言配置.html-d962f907.js" as="script"><link rel="prefetch" href="/notes/assets/2Apex.html-d7bb5b16.js" as="script"><link rel="prefetch" href="/notes/assets/3Java.html-e397adff.js" as="script"><link rel="prefetch" href="/notes/assets/4JS-TS.html-43d0053b.js" as="script"><link rel="prefetch" href="/notes/assets/5JSP.html-4bbe561d.js" as="script"><link rel="prefetch" href="/notes/assets/6Kotlin.html-e33c13f8.js" as="script"><link rel="prefetch" href="/notes/assets/7PLSQL.html-bba8512d.js" as="script"><link rel="prefetch" href="/notes/assets/8Visualforce.html-0a0d0776.js" as="script"><link rel="prefetch" href="/notes/assets/9XML-and-XML-dialects.html-7d66ed52.js" as="script"><link rel="prefetch" href="/notes/assets/2Logo.html-06ce50f8.js" as="script"><link rel="prefetch" href="/notes/assets/3FAQ.html-055bcbd4.js" as="script"><link rel="prefetch" href="/notes/assets/4License.html-6362fd5a.js" as="script"><link rel="prefetch" href="/notes/assets/5Credits.html-40d6cfa0.js" as="script"><link rel="prefetch" href="/notes/assets/6旧版发布说明.html-73b39ea9.js" as="script"><link rel="prefetch" href="/notes/assets/7决议.html-658403da.js" as="script"><link rel="prefetch" href="/notes/assets/1开发人员资源.html-842fd5bd.js" as="script"><link rel="prefetch" href="/notes/assets/2源码构建PMD.html-8377e8b7.js" as="script"><link rel="prefetch" href="/notes/assets/3捐助.html-de82812d.js" as="script"><link rel="prefetch" href="/notes/assets/4文档编写.html-7f2c67f4.js" as="script"><link rel="prefetch" href="/notes/assets/5路线图.html-3f230618.js" as="script"><link rel="prefetch" href="/notes/assets/6PMD如何运行.html-8e3f8432.js" as="script"><link rel="prefetch" href="/notes/assets/7Pmdtester.html-b318e3b8.js" as="script"><link rel="prefetch" href="/notes/assets/8规则弃用策略.html-5149b36d.js" as="script"><link rel="prefetch" href="/notes/assets/1CPD使用.html-b3bdf615.js" as="script"><link rel="prefetch" href="/notes/assets/2CPD报告格式.html-3756cfc7.js" as="script"><link rel="prefetch" href="/notes/assets/1自定义规则介绍.html-8ff956cc.js" as="script"><link rel="prefetch" href="/notes/assets/2第一个规则.html-ee127dce.js" as="script"><link rel="prefetch" href="/notes/assets/3XPath规则.html-33b06fed.js" as="script"><link rel="prefetch" href="/notes/assets/4Java规则.html-69cd798d.js" as="script"><link rel="prefetch" href="/notes/assets/5规则设计指引.html-0e072b4c.js" as="script"><link rel="prefetch" href="/notes/assets/6定义规则参数.html-7ab521ef.js" as="script"><link rel="prefetch" href="/notes/assets/7规则准则.html-6a414ab0.js" as="script"><link rel="prefetch" href="/notes/assets/8规则测试.html-73d1f2e8.js" as="script"><link rel="prefetch" href="/notes/assets/1Maven PMD插件.html-297c7310.js" as="script"><link rel="prefetch" href="/notes/assets/2Gradle.html-c977a9cf.js" as="script"><link rel="prefetch" href="/notes/assets/3Ant.html-c54b26c1.js" as="script"><link rel="prefetch" href="/notes/assets/4PMD-Java-API.html-e227aaae.js" as="script"><link rel="prefetch" href="/notes/assets/5持续继承插件.html-61954cfe.js" as="script"><link rel="prefetch" href="/notes/assets/6其他集成工具.html-99f7e498.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-bf57f1ec.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-c194e99b.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-8717f1f4.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-b2acc7ef.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-61d21090.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-9ae12e65.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-57997808.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-0860f3f7.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-af355e3f.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-017f9c78.js" as="script"><link rel="prefetch" href="/notes/assets/2最佳实践类.html-edb2c9cf.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-17157bb9.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-719cc307.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-b0ca3c02.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-de2d08db.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-17a62951.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-017009cb.js" as="script"><link rel="prefetch" href="/notes/assets/1媒体报道.html-5286f57c.js" as="script"><link rel="prefetch" href="/notes/assets/2相关书籍和产品.html-4300045e.js" as="script"><link rel="prefetch" href="/notes/assets/3类似项目.html-66852c69.js" as="script"><link rel="prefetch" href="/notes/assets/4PMD含义.html-49602627.js" as="script"><link rel="prefetch" href="/notes/assets/1基础信息.html-7dbcdb8c.js" as="script"><link rel="prefetch" href="/notes/assets/2合并请求.html-3d357afb.js" as="script"><link rel="prefetch" href="/notes/assets/3主要登录页.html-5508d703.js" as="script"><link rel="prefetch" href="/notes/assets/1创建AST的XML转储.html-1d892936.js" as="script"><link rel="prefetch" href="/notes/assets/1标准规则指南.html-a153ea53.js" as="script"><link rel="prefetch" href="/notes/assets/2支持新语言(JavaCC).html-a6346c86.js" as="script"><link rel="prefetch" href="/notes/assets/3支持新语言(ANTLR).html-62d1d2c0.js" as="script"><link rel="prefetch" href="/notes/assets/4添加新语言(CPD).html-c4d5d5d1.js" as="script"><link rel="prefetch" href="/notes/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-bcba7d9d.js" as="script"><link rel="prefetch" href="/notes/assets/tcpdump.html-ad21c597.js" as="script"><link rel="prefetch" href="/notes/assets/镜像源地址.html-ae06e0e9.js" as="script"><link rel="prefetch" href="/notes/assets/资料搜集.html-98a72cc2.js" as="script"><link rel="prefetch" href="/notes/assets/POM.html-5a92cbac.js" as="script"><link rel="prefetch" href="/notes/assets/settings.html-352bf460.js" as="script"><link rel="prefetch" href="/notes/assets/C4模式架构设计总结.html-c0197daf.js" as="script"><link rel="prefetch" href="/notes/assets/consul.html-05a22dcd.js" as="script"><link rel="prefetch" href="/notes/assets/gogs.html-ba05ac0a.js" as="script"><link rel="prefetch" href="/notes/assets/docker安装命令.html-ed8b8462.js" as="script"><link rel="prefetch" href="/notes/assets/备忘.html-e5ca6c4a.js" as="script"><link rel="prefetch" href="/notes/assets/安装.html-362fa62c.js" as="script"><link rel="prefetch" href="/notes/assets/配置文件参数.html-ac744687.js" as="script"><link rel="prefetch" href="/notes/assets/ldap使用.html-3f0d6c8f.js" as="script"><link rel="prefetch" href="/notes/assets/openldap安装.html-52d83b51.js" as="script"><link rel="prefetch" href="/notes/assets/安装.html-fc419f63.js" as="script"><link rel="prefetch" href="/notes/assets/centos-stream-9.html-20ee565e.js" as="script"><link rel="prefetch" href="/notes/assets/docker使用.html-12e62c55.js" as="script"><link rel="prefetch" href="/notes/assets/docker安装.html-da268900.js" as="script"><link rel="prefetch" href="/notes/assets/基础命令.html-0a37c40f.js" as="script"><link rel="prefetch" href="/notes/assets/相关连接.html-ac0bf733.js" as="script"><link rel="prefetch" href="/notes/assets/sqlite3linux客户端.html-9fb991f8.js" as="script"><link rel="prefetch" href="/notes/assets/基础镜像安装常用软件.html-bc25c8cc.js" as="script"><link rel="prefetch" href="/notes/assets/cJSON使用.html-e54d71bd.js" as="script"><link rel="prefetch" href="/notes/assets/内存申请和释放.html-d8c42030.js" as="script"><link rel="prefetch" href="/notes/assets/数据结构.html-2fd667be.js" as="script"><link rel="prefetch" href="/notes/assets/线程.html-8402ce73.js" as="script"><link rel="prefetch" href="/notes/assets/编译指令.html-6f1d4f9e.js" as="script"><link rel="prefetch" href="/notes/assets/语法.html-58fc57a2.js" as="script"><link rel="prefetch" href="/notes/assets/下载go.html-b78e222b.js" as="script"><link rel="prefetch" href="/notes/assets/udp通讯.html-be821201.js" as="script"><link rel="prefetch" href="/notes/assets/zigbee协议栈整体架构.html-6d35c93d.js" as="script"><link rel="prefetch" href="/notes/assets/概念.html-98e34109.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-61926d99.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr CLI.html-99152196.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr Cloud Service.html-42eecab8.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr DSL.html-da934d6d.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr Lite.html-5bd7044e.js" as="script"><link rel="prefetch" href="/notes/assets/Structurizr On-premises.html-ecb49fbb.js" as="script"><link rel="prefetch" href="/notes/assets/network.html-6932486b.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-8b0df22f.js" as="script"><link rel="prefetch" href="/notes/assets/mysql.html-8287410e.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-090e6e9f.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-4472c981.js" as="script"><link rel="prefetch" href="/notes/assets/99问题.html-0f6b1416.js" as="script"><link rel="prefetch" href="/notes/assets/index.html-31833583.js" as="script"><link rel="prefetch" href="/notes/assets/参考链接.html-00c91418.js" as="script"><link rel="prefetch" href="/notes/assets/命令行调用PMD.html-5bd98e5e.js" as="script"><link rel="prefetch" href="/notes/assets/官方使用指南.html-3b209124.js" as="script"><link rel="prefetch" href="/notes/assets/1首页.html-e2ffe931.js" as="script"><link rel="prefetch" href="/notes/assets/2发布说明.html-70cf6139.js" as="script"><link rel="prefetch" href="/notes/assets/3发布说明(PMD 7).html-ef4fd746.js" as="script"><link rel="prefetch" href="/notes/assets/4获取帮助.html-81a085c8.js" as="script"><link rel="prefetch" href="/notes/assets/10第三方规则集.html-122897bd.js" as="script"><link rel="prefetch" href="/notes/assets/1PMD6.x迁移到PMD7.html-ff00f24a.js" as="script"><link rel="prefetch" href="/notes/assets/2安装和基本cli使用.html-6aaff5d5.js" as="script"><link rel="prefetch" href="/notes/assets/3制作规则集.html-fd4e0f8b.js" as="script"><link rel="prefetch" href="/notes/assets/4配置规则.html-cc1584a0.js" as="script"><link rel="prefetch" href="/notes/assets/5最佳实践.html-bad30eeb.js" as="script"><link rel="prefetch" href="/notes/assets/6压制告警.html-f003939c.js" as="script"><link rel="prefetch" href="/notes/assets/7增量分析.html-91472798.js" as="script"><link rel="prefetch" href="/notes/assets/8PMD命令参考.html-aed3beca.js" as="script"><link rel="prefetch" href="/notes/assets/9PMD报告格式.html-6b0a62d0.js" as="script"><link rel="prefetch" href="/notes/assets/10HTML.html-711e1201.js" as="script"><link rel="prefetch" href="/notes/assets/11Gherkin.html-7803211e.js" as="script"><link rel="prefetch" href="/notes/assets/12Julia.html-9b98cf30.js" as="script"><link rel="prefetch" href="/notes/assets/13Coco.html-6e93d8ab.js" as="script"><link rel="prefetch" href="/notes/assets/1语言配置.html-6993397f.js" as="script"><link rel="prefetch" href="/notes/assets/2Apex.html-ff4d33ca.js" as="script"><link rel="prefetch" href="/notes/assets/3Java.html-de3272cd.js" as="script"><link rel="prefetch" href="/notes/assets/4JS-TS.html-aedeeeb6.js" as="script"><link rel="prefetch" href="/notes/assets/5JSP.html-c0f116de.js" as="script"><link rel="prefetch" href="/notes/assets/6Kotlin.html-ec08197b.js" as="script"><link rel="prefetch" href="/notes/assets/7PLSQL.html-f9de6ac4.js" as="script"><link rel="prefetch" href="/notes/assets/8Visualforce.html-d75522ed.js" as="script"><link rel="prefetch" href="/notes/assets/9XML-and-XML-dialects.html-c92555f7.js" as="script"><link rel="prefetch" href="/notes/assets/2Logo.html-a7915d21.js" as="script"><link rel="prefetch" href="/notes/assets/3FAQ.html-5ef5fde4.js" as="script"><link rel="prefetch" href="/notes/assets/4License.html-36adeb1d.js" as="script"><link rel="prefetch" href="/notes/assets/5Credits.html-bf4deb46.js" as="script"><link rel="prefetch" href="/notes/assets/6旧版发布说明.html-e122294b.js" as="script"><link rel="prefetch" href="/notes/assets/7决议.html-780c5a2a.js" as="script"><link rel="prefetch" href="/notes/assets/1开发人员资源.html-b379fe66.js" as="script"><link rel="prefetch" href="/notes/assets/2源码构建PMD.html-3b4761f3.js" as="script"><link rel="prefetch" href="/notes/assets/3捐助.html-1ebba5a3.js" as="script"><link rel="prefetch" href="/notes/assets/4文档编写.html-bb9cd56d.js" as="script"><link rel="prefetch" href="/notes/assets/5路线图.html-e95873b0.js" as="script"><link rel="prefetch" href="/notes/assets/6PMD如何运行.html-a6561eb8.js" as="script"><link rel="prefetch" href="/notes/assets/7Pmdtester.html-6d8b6cc6.js" as="script"><link rel="prefetch" href="/notes/assets/8规则弃用策略.html-c6791056.js" as="script"><link rel="prefetch" href="/notes/assets/1CPD使用.html-13358a8b.js" as="script"><link rel="prefetch" href="/notes/assets/2CPD报告格式.html-33dd07c2.js" as="script"><link rel="prefetch" href="/notes/assets/1自定义规则介绍.html-cd12572b.js" as="script"><link rel="prefetch" href="/notes/assets/2第一个规则.html-5b3cd4d4.js" as="script"><link rel="prefetch" href="/notes/assets/3XPath规则.html-fb62a4e7.js" as="script"><link rel="prefetch" href="/notes/assets/4Java规则.html-72cc8bd3.js" as="script"><link rel="prefetch" href="/notes/assets/5规则设计指引.html-4ec98d2a.js" as="script"><link rel="prefetch" href="/notes/assets/6定义规则参数.html-a4731a67.js" as="script"><link rel="prefetch" href="/notes/assets/7规则准则.html-d398152b.js" as="script"><link rel="prefetch" href="/notes/assets/8规则测试.html-6572f970.js" as="script"><link rel="prefetch" href="/notes/assets/1Maven PMD插件.html-64cab86e.js" as="script"><link rel="prefetch" href="/notes/assets/2Gradle.html-ddad404f.js" as="script"><link rel="prefetch" href="/notes/assets/3Ant.html-749828f1.js" as="script"><link rel="prefetch" href="/notes/assets/4PMD-Java-API.html-2549e0f1.js" as="script"><link rel="prefetch" href="/notes/assets/5持续继承插件.html-bf99bc4c.js" as="script"><link rel="prefetch" href="/notes/assets/6其他集成工具.html-90d305ae.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-1b98e1eb.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-43c22f96.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-76db4e6a.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-2d5629c1.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-46c1498c.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-9c8d2293.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-3c48c42b.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-006e047f.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-e9f44a2f.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-dbf20994.js" as="script"><link rel="prefetch" href="/notes/assets/2最佳实践类.html-72a5e1b7.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-4a6ef4ae.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-f6a7c875.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-ddc08732.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-e789550a.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-7e235ca4.js" as="script"><link rel="prefetch" href="/notes/assets/1索引.html-2aad0376.js" as="script"><link rel="prefetch" href="/notes/assets/1媒体报道.html-3e24ad49.js" as="script"><link rel="prefetch" href="/notes/assets/2相关书籍和产品.html-7b5ee230.js" as="script"><link rel="prefetch" href="/notes/assets/3类似项目.html-9ab3b871.js" as="script"><link rel="prefetch" href="/notes/assets/4PMD含义.html-c05e314e.js" as="script"><link rel="prefetch" href="/notes/assets/1基础信息.html-d62310ae.js" as="script"><link rel="prefetch" href="/notes/assets/2合并请求.html-1f60e317.js" as="script"><link rel="prefetch" href="/notes/assets/3主要登录页.html-ad6c7aee.js" as="script"><link rel="prefetch" href="/notes/assets/1创建AST的XML转储.html-9cad8306.js" as="script"><link rel="prefetch" href="/notes/assets/1标准规则指南.html-03c94ab9.js" as="script"><link rel="prefetch" href="/notes/assets/2支持新语言(JavaCC).html-73e88732.js" as="script"><link rel="prefetch" href="/notes/assets/3支持新语言(ANTLR).html-10eb8070.js" as="script"><link rel="prefetch" href="/notes/assets/4添加新语言(CPD).html-35fb8143.js" as="script"><link rel="prefetch" href="/notes/assets/404.html-fa496da6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/notes/" class=""><img class="logo" src="/notes/images/logo.png" alt="cxf笔记"><span class="site-name can-hide">cxf笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/notes/linux/镜像源地址.md" class="" aria-label="镜像源地址"><!--[--><!--]--> 镜像源地址 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/notes/linux/tcpdump.md" class="" aria-label="tcpdump"><!--[--><!--]--> tcpdump <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>docker</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/docker安装.md" class="" aria-label="docker安装"><!--[--><!--]--> docker安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/docker使用.md" class="" aria-label="docker使用"><!--[--><!--]--> docker使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/基础命令.md" class="" aria-label="基础命令"><!--[--><!--]--> 基础命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/相关连接.md" class="" aria-label="相关连接"><!--[--><!--]--> 相关连接 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/command-detail/" class="" aria-label="docker指令详解"><!--[--><!--]--> docker指令详解 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/common-images/" class="" aria-label="常用镜像"><!--[--><!--]--> 常用镜像 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>sqlite3</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/sqlite3/sqlite3linux客户端.md" class="" aria-label="sqlite3linux客户端"><!--[--><!--]--> sqlite3linux客户端 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>centos</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/centos/centos-stream-9.md" class="" aria-label="centos-stream-9"><!--[--><!--]--> centos-stream-9 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ubuntu</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/ubuntu/基础镜像安装常用软件.md" class="" aria-label="基础镜像安装常用软件"><!--[--><!--]--> 基础镜像安装常用软件 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="编程语言"><span class="title">编程语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="编程语言"><span class="title">编程语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>C</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/语法.md" class="" aria-label="语法"><!--[--><!--]--> 语法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/编译指令.md" class="" aria-label="编译指令"><!--[--><!--]--> 编译指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/cJSON使用.md" class="" aria-label="cJSON使用"><!--[--><!--]--> cJSON使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/内存申请和释放.md" class="" aria-label="内存申请和释放"><!--[--><!--]--> 内存申请和释放 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/数据结构.md" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/线程.md" class="" aria-label="线程"><!--[--><!--]--> 线程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>go</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/go/下载go.md" class="" aria-label="下载go"><!--[--><!--]--> 下载go <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>java</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/java/spring" class="" aria-label="spring"><!--[--><!--]--> spring <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>微信小程序</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/weixin/udp通讯.md" class="" aria-label="udp通讯"><!--[--><!--]--> udp通讯 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="协议"><span class="title">协议</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="协议"><span class="title">协议</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>zigbee</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/概念.md" class="" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/zigbee协议栈整体架构.md" class="" aria-label="zigbee协议栈整体架构"><!--[--><!--]--> zigbee协议栈整体架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/zigbee协议属性.pdf" class="" aria-label="zigbee协议属性"><!--[--><!--]--> zigbee协议属性 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/ZigBee 协议栈 2017 版.pdf" class="" aria-label="ZigBee 协议栈 2017 版"><!--[--><!--]--> ZigBee 协议栈 2017 版 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="组件"><span class="title">组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="组件"><span class="title">组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>C4</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/C4/C4模式架构设计总结.md" class="" aria-label="C4模式架构设计总结"><!--[--><!--]--> C4模式架构设计总结 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/C4/Structurizr/" class="" aria-label="Structurizr"><!--[--><!--]--> Structurizr <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>influxdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/docker安装命令.md" class="" aria-label="docker安装命令"><!--[--><!--]--> docker安装命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/安装.md" class="" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/备忘.md" class="" aria-label="备忘"><!--[--><!--]--> 备忘 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/配置文件参数.md" class="" aria-label="配置文件参数"><!--[--><!--]--> 配置文件参数 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>openldap</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/openldap/ldap使用.md" class="" aria-label="ldap使用"><!--[--><!--]--> ldap使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/openldap/openldap安装.md" class="" aria-label="openldap安装"><!--[--><!--]--> openldap安装 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>rabbitmq</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/rabbitmq/安装.md" class="" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>consul</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/consul/consul.md" class="" aria-label="consul"><!--[--><!--]--> consul <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>gogs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/gogs/gogs.md" class="" aria-label="gogs"><!--[--><!--]--> gogs <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ocr"><span class="title">ocr</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ocr"><span class="title">ocr</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/notes/ocr/资料搜集.md" class="" aria-label="资料搜集"><!--[--><!--]--> 资料搜集 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="软件静态分析"><span class="title">软件静态分析</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="软件静态分析"><span class="title">软件静态分析</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/PMD/" class="" aria-label="PMD"><!--[--><!--]--> PMD <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/PMD-demo/命令行调用PMD.md" class="" aria-label="PMD-demo"><!--[--><!--]--> PMD-demo <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/JacoDB/官方使用指南.md" class="" aria-label="JacoDB"><!--[--><!--]--> JacoDB <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/JacoDB/jacoDB库使用.md" class="" aria-label="JacoDB-demo"><!--[--><!--]--> JacoDB-demo <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Maven</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/build-tool/maven/settings.md" class="" aria-label="settings.xml"><!--[--><!--]--> settings.xml <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/notes/linux/镜像源地址.md" class="" aria-label="镜像源地址"><!--[--><!--]--> 镜像源地址 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/notes/linux/tcpdump.md" class="" aria-label="tcpdump"><!--[--><!--]--> tcpdump <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>docker</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/docker安装.md" class="" aria-label="docker安装"><!--[--><!--]--> docker安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/docker使用.md" class="" aria-label="docker使用"><!--[--><!--]--> docker使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/基础命令.md" class="" aria-label="基础命令"><!--[--><!--]--> 基础命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/相关连接.md" class="" aria-label="相关连接"><!--[--><!--]--> 相关连接 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/command-detail/" class="" aria-label="docker指令详解"><!--[--><!--]--> docker指令详解 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/linux/docker/common-images/" class="" aria-label="常用镜像"><!--[--><!--]--> 常用镜像 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>sqlite3</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/sqlite3/sqlite3linux客户端.md" class="" aria-label="sqlite3linux客户端"><!--[--><!--]--> sqlite3linux客户端 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>centos</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/centos/centos-stream-9.md" class="" aria-label="centos-stream-9"><!--[--><!--]--> centos-stream-9 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>ubuntu</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/linux/ubuntu/基础镜像安装常用软件.md" class="" aria-label="基础镜像安装常用软件"><!--[--><!--]--> 基础镜像安装常用软件 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="编程语言"><span class="title">编程语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="编程语言"><span class="title">编程语言</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>C</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/语法.md" class="" aria-label="语法"><!--[--><!--]--> 语法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/编译指令.md" class="" aria-label="编译指令"><!--[--><!--]--> 编译指令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/cJSON使用.md" class="" aria-label="cJSON使用"><!--[--><!--]--> cJSON使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/内存申请和释放.md" class="" aria-label="内存申请和释放"><!--[--><!--]--> 内存申请和释放 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/数据结构.md" class="" aria-label="数据结构"><!--[--><!--]--> 数据结构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/programming/C/线程.md" class="" aria-label="线程"><!--[--><!--]--> 线程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>go</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/go/下载go.md" class="" aria-label="下载go"><!--[--><!--]--> 下载go <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>java</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/java/spring" class="" aria-label="spring"><!--[--><!--]--> spring <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>微信小程序</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/programming/weixin/udp通讯.md" class="" aria-label="udp通讯"><!--[--><!--]--> udp通讯 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="协议"><span class="title">协议</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="协议"><span class="title">协议</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>zigbee</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/概念.md" class="" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/zigbee协议栈整体架构.md" class="" aria-label="zigbee协议栈整体架构"><!--[--><!--]--> zigbee协议栈整体架构 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/zigbee协议属性.pdf" class="" aria-label="zigbee协议属性"><!--[--><!--]--> zigbee协议属性 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/protocol/zigbee/ZigBee 协议栈 2017 版.pdf" class="" aria-label="ZigBee 协议栈 2017 版"><!--[--><!--]--> ZigBee 协议栈 2017 版 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="组件"><span class="title">组件</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="组件"><span class="title">组件</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>C4</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/C4/C4模式架构设计总结.md" class="" aria-label="C4模式架构设计总结"><!--[--><!--]--> C4模式架构设计总结 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/C4/Structurizr/" class="" aria-label="Structurizr"><!--[--><!--]--> Structurizr <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>influxdb</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/docker安装命令.md" class="" aria-label="docker安装命令"><!--[--><!--]--> docker安装命令 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/安装.md" class="" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/备忘.md" class="" aria-label="备忘"><!--[--><!--]--> 备忘 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/influxdb/配置文件参数.md" class="" aria-label="配置文件参数"><!--[--><!--]--> 配置文件参数 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>openldap</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/openldap/ldap使用.md" class="" aria-label="ldap使用"><!--[--><!--]--> ldap使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/components/openldap/openldap安装.md" class="" aria-label="openldap安装"><!--[--><!--]--> openldap安装 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>rabbitmq</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/rabbitmq/安装.md" class="" aria-label="安装"><!--[--><!--]--> 安装 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>consul</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/consul/consul.md" class="" aria-label="consul"><!--[--><!--]--> consul <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>gogs</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/components/gogs/gogs.md" class="" aria-label="gogs"><!--[--><!--]--> gogs <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ocr"><span class="title">ocr</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ocr"><span class="title">ocr</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/notes/ocr/资料搜集.md" class="" aria-label="资料搜集"><!--[--><!--]--> 资料搜集 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="软件静态分析"><span class="title">软件静态分析</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="软件静态分析"><span class="title">软件静态分析</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>工具</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/PMD/" class="" aria-label="PMD"><!--[--><!--]--> PMD <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/PMD-demo/命令行调用PMD.md" class="" aria-label="PMD-demo"><!--[--><!--]--> PMD-demo <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/JacoDB/官方使用指南.md" class="" aria-label="JacoDB"><!--[--><!--]--> JacoDB <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/notes/software-static-analysis/tool/JacoDB/jacoDB库使用.md" class="" aria-label="JacoDB-demo"><!--[--><!--]--> JacoDB-demo <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>Maven</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/notes/build-tool/maven/settings.md" class="" aria-label="settings.xml"><!--[--><!--]--> settings.xml <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="一-jacodb基础" tabindex="-1"><a class="header-anchor" href="#一-jacodb基础" aria-hidden="true">#</a> 一 jacodb基础</h1><h2 id="_1创建数据库" tabindex="-1"><a class="header-anchor" href="#_1创建数据库" aria-hidden="true">#</a> 1创建数据库</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JcDatabase</span> database <span class="token operator">=</span> <span class="token class-name">JacoDB</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span>jcSettings<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1-1创建选项jcsettings" tabindex="-1"><a class="header-anchor" href="#_1-1创建选项jcsettings" aria-hidden="true">#</a> 1.1创建选项JcSettings</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>JcSettings jcSettings = new JcSettings()
                .useJavaHomeRuntime()
                .persistent(&quot;./tmp/compilation-db/test.db&quot;),
                .installFeatures(Usages.INSTANCE, InMemoryHierarchy.INSTANCE);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1-1设置java运行时库" tabindex="-1"><a class="header-anchor" href="#_1-1-1设置java运行时库" aria-hidden="true">#</a> 1.1.1设置java运行时库</h4><p>​ 这里设置成和被监测代码运行时相同的java版本。</p><p>​ useJavaHomeRuntime()</p><p>​ 从JAVA_HOME环境变量加载运行时库。</p><p>​ useProcessJavaRuntime()</p><p>​ 和当前运行程序使用相同的运行时库。</p><p>​ useJavaRuntime(runtime: File)</p><p>​ 指定加载运行时库的位置。</p><p>​ 如果三个都不设置，默认使用useProcessJavaRuntime()。</p><h4 id="_1-1-2设置数据库文件位置" tabindex="-1"><a class="header-anchor" href="#_1-1-2设置数据库文件位置" aria-hidden="true">#</a> 1.1.2设置数据库文件位置</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.persistent(&quot;./tmp/compilation-db/test.db&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_1-1-3加载特性" tabindex="-1"><a class="header-anchor" href="#_1-1-3加载特性" aria-hidden="true">#</a> 1.1.3加载特性</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.installFeatures(Usages.INSTANCE, InMemoryHierarchy.INSTANCE)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>​ Usages.INSTANCE</p><p>​ InMemoryHierarchy.INSTANCE</p><p><strong>⚠️创建数据库后，jre库的信息会自动存储到数据库。</strong></p><h4 id="_1-1-4-监听文件系统变化" tabindex="-1"><a class="header-anchor" href="#_1-1-4-监听文件系统变化" aria-hidden="true">#</a> 1.1.4 监听文件系统变化</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.watchFileSystem()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>jar包删除会有以下日志警告：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[DefaultDispatcher-worker-2 @coroutine#186] WARN org.jacodb.impl.fs.ByteCodeLocationsKt$logger$1 - D:\code\jacodb-test\target\jacodb-test-1.0-SNAPSHOT.jar doesn&#39;t exists. make sure there is no mistake
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>jar包变更会将新的jar包所有内容存储到数据库，旧数据不会清除。</p><p>class文件的删除和新增，数据库不会更新。</p><h2 id="_2加载被分析代码的bitcode信息" tabindex="-1"><a class="header-anchor" href="#_2加载被分析代码的bitcode信息" aria-hidden="true">#</a> 2加载被分析代码的bitcode信息</h2><p>指定jar包位置或者class目录：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">File</span> commonsMath32 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;commons-math3-3.2.jar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> commonsMath36 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;commons-math3-3.6.1.jar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> buildDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;my-project/build/classes/java/main&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
database<span class="token punctuation">.</span><span class="token function">asyncLoad</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>commonsMath32<span class="token punctuation">,</span> commonsMath36<span class="token punctuation">,</span> buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-监听class文件变更-无效" tabindex="-1"><a class="header-anchor" href="#_3-监听class文件变更-无效" aria-hidden="true">#</a> 3 监听class文件变更(无效)</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// This method just refreshes the libraries inside the database. If there are any changes in libs then </span>
<span class="token comment">// the database updates data with the new results.</span>
database<span class="token punctuation">.</span><span class="token function">asyncLoad</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试未生效。目录下的class文件变更，和jar包变更都不会更新数据库数据。</p><h2 id="_4-查询类信息" tabindex="-1"><a class="header-anchor" href="#_4-查询类信息" aria-hidden="true">#</a> 4 查询类信息</h2><h3 id="_4-1-指定查询范围" tabindex="-1"><a class="header-anchor" href="#_4-1-指定查询范围" aria-hidden="true">#</a> 4.1 指定查询范围</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JcClasspath</span> classpath <span class="token operator">=</span> database<span class="token punctuation">.</span><span class="token function">asyncClasspath</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JcClassOrInterface</span> jcClass <span class="token operator">=</span> classpath<span class="token punctuation">.</span><span class="token function">findClassOrNull</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-获取类信息" tabindex="-1"><a class="header-anchor" href="#_4-2-获取类信息" aria-hidden="true">#</a> 4.2 获取类信息</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 方法数量(包括构造方法)</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jcClass<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 注解数量</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jcClass<span class="token punctuation">.</span><span class="token function">getAnnotations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 构造函数数量</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JcClasses</span><span class="token punctuation">.</span><span class="token function">getConstructors</span><span class="token punctuation">(</span>jcClass<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getClasspath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">asmNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getInnerClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">bytecode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getLookup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getOuterClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getOuterMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getSuperClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getAccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getDeclaration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">asmNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">extensionValue</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isAnnotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isAnonymous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isInterface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isFinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isAbstract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isPackagePrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isProtected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isPublic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isStatic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jcClass<span class="token punctuation">.</span><span class="token function">isSynthetic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-类型" tabindex="-1"><a class="header-anchor" href="#_5-类型" aria-hidden="true">#</a> 5 类型</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JcClassType</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">JcClassType</span><span class="token punctuation">)</span>classpath<span class="token punctuation">.</span><span class="token function">findTypeOrNull</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JcType</span> xType <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>it <span class="token operator">-&gt;</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFieldType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JcClassType</span> stringType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">JcClassType</span><span class="token punctuation">)</span> classpath<span class="token punctuation">.</span><span class="token function">findTypeOrNull</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>xType<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>stringType<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will print &quot;true&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>JcClassType
JcType
JcTypeField
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-method" tabindex="-1"><a class="header-anchor" href="#_6-method" aria-hidden="true">#</a> 6 method</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JcMethod</span> jcMethod <span class="token operator">=</span> <span class="token class-name">JcClasses</span><span class="token punctuation">.</span><span class="token function">findDeclaredMethodOrNull</span><span class="token punctuation">(</span>cString<span class="token punctuation">,</span> <span class="token string">&quot;getName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(I)Ljava/lang/String;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>关于第二个入参&quot;desc&quot;的值，形式为：“(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;” 括号内的是入参类型，后面是返回值类型。如果desc为null，则返回第一个相同函数名的函数，后续重载方法忽略。</p><p>Raw instruction</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JcInstList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcRawInst</span><span class="token punctuation">&gt;</span></span> rawInstructionList <span class="token operator">=</span> jcMethod<span class="token punctuation">.</span><span class="token function">getRawInstList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">JcRawInst</span> instruction <span class="token operator">:</span> rawInstructionList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instruction <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> instruction<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcRawExpr</span><span class="token punctuation">&gt;</span></span> expressionList <span class="token operator">=</span> instruction<span class="token punctuation">.</span><span class="token function">getOperands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">JcRawExpr</span> expression <span class="token operator">:</span> expressionList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>expression<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>expression<span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcRawValue</span><span class="token punctuation">&gt;</span></span> valueList <span class="token operator">=</span> expression<span class="token punctuation">.</span><span class="token function">getOperands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">JcRawValue</span> value <span class="token operator">:</span>valueList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;valueType:&quot;</span><span class="token operator">+</span>value<span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-instruction" tabindex="-1"><a class="header-anchor" href="#_7-instruction" aria-hidden="true">#</a> 7 Instruction</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JcInstList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcInst</span><span class="token punctuation">&gt;</span></span> instructionList <span class="token operator">=</span> jcMethod<span class="token punctuation">.</span><span class="token function">getInstList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">JcInst</span> instruction <span class="token operator">:</span> instructionList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instruction<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> instruction<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>instruction <span class="token keyword">instanceof</span> <span class="token class-name">JcAssignInst</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">JcAssignInst</span> assignInst <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">JcAssignInst</span><span class="token punctuation">)</span>instruction<span class="token punctuation">;</span>
                <span class="token class-name">JcValue</span> lValue <span class="token operator">=</span> assignInst<span class="token punctuation">.</span><span class="token function">getLhv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">JcExpr</span> rValue <span class="token operator">=</span> assignInst<span class="token punctuation">.</span><span class="token function">getRhv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> lValue<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> lValue<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> rValue<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> rValue<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcExpr</span><span class="token punctuation">&gt;</span></span> jcExprList  <span class="token operator">=</span> instruction<span class="token punctuation">.</span><span class="token function">getOperands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token class-name">JcExpr</span> expression <span class="token operator">:</span> jcExprList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> expression<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> expression<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-control-flow-graph" tabindex="-1"><a class="header-anchor" href="#_8-control-flow-graph" aria-hidden="true">#</a> 8 control flow graph</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>        <span class="token class-name">JcGraph</span> jcGraph <span class="token operator">=</span> jcMethod<span class="token punctuation">.</span><span class="token function">flowGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">JcInst</span> jcInst <span class="token operator">=</span> jcGraph<span class="token punctuation">.</span><span class="token function">getEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jcInst <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> jcInst<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcExpr</span><span class="token punctuation">&gt;</span></span> jcExprList  <span class="token operator">=</span> jcInst<span class="token punctuation">.</span><span class="token function">getOperands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token class-name">JcExpr</span> expression <span class="token operator">:</span> jcExprList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> expression<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> expression<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token class-name">JcBlockGraph</span> jcBlockGraph <span class="token operator">=</span> jcGraph<span class="token punctuation">.</span><span class="token function">blockGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="graph可视化" tabindex="-1"><a class="header-anchor" href="#graph可视化" aria-hidden="true">#</a> graph可视化</h3><p>​ 我们还提供了用于可视化JcGraph和JcBlockGraph的API：</p><ul><li><p><code>JcGraph.view(dotCmd: String, viewerCmd: String, viewCatchConnections: Boolean = false)</code> — 使用DOT生成SVG文件（dotCmd需要指定DOT可执行文件的路径），并使用viewerCmd程序（指定浏览器可执行文件）查看。viewCatchConnections标志定义是否在图中显示throw...catch连接。</p></li><li><p><code>JcBlockGraph.view(dotCmd: String, viewerCmd: String)</code> — 类似，但显示JcBlockGraph。</p><p><strong>未验证调用</strong></p></li></ul><h3 id="visitor-api" tabindex="-1"><a class="header-anchor" href="#visitor-api" aria-hidden="true">#</a> Visitor API</h3><h2 id="_9-hierarchy" tabindex="-1"><a class="header-anchor" href="#_9-hierarchy" aria-hidden="true">#</a> 9 hierarchy</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">HierarchyExtension</span> ext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HierarchyExtensionImpl</span><span class="token punctuation">(</span>classpath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Sequence</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcClassOrInterface</span><span class="token punctuation">&gt;</span></span> classSeq <span class="token operator">=</span> ext<span class="token punctuation">.</span><span class="token function">findSubClasses</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.C&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcClassOrInterface</span><span class="token punctuation">&gt;</span></span> iter <span class="token operator">=</span> classSeq<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">JcClassOrInterface</span> jcClass <span class="token operator">=</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jcClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">Sequence</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> methodSeq <span class="token operator">=</span> ext<span class="token punctuation">.</span><span class="token function">findOverrides</span><span class="token punctuation">(</span>jcMethod<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> iterM <span class="token operator">=</span> methodSeq<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterM<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">JcMethod</span> method <span class="token operator">=</span> iterM<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>findSubClasses未生效，无法找到子类</p><p>findOverrides未生效，未找到重写的方法。</p><h2 id="_10-usages" tabindex="-1"><a class="header-anchor" href="#_10-usages" aria-hidden="true">#</a> 10 Usages</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>        <span class="token class-name">SyncUsagesExtension</span> usages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SyncUsagesExtension</span><span class="token punctuation">(</span>ext<span class="token punctuation">,</span>classpath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Sequence</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> usageMethods <span class="token operator">=</span> usages<span class="token punctuation">.</span><span class="token function">findUsages</span><span class="token punctuation">(</span>jcMethod<span class="token punctuation">)</span><span class="token punctuation">;</span>
usages<span class="token punctuation">.</span><span class="token function">findUsages</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> <span class="token class-name">FieldUsageMode</span><span class="token punctuation">.</span><span class="token constant">READ</span><span class="token punctuation">)</span>
usages<span class="token punctuation">.</span><span class="token function">findUsages</span><span class="token punctuation">(</span>field<span class="token punctuation">,</span> <span class="token class-name">FieldUsageMode</span><span class="token punctuation">.</span><span class="token constant">WRITE</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_11-测试代码" tabindex="-1"><a class="header-anchor" href="#_11-测试代码" aria-hidden="true">#</a> 11 测试代码</h2><h3 id="测试类-被检测" tabindex="-1"><a class="header-anchor" href="#测试类-被检测" aria-hidden="true">#</a> 测试类-被检测</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SubC</span> <span class="token keyword">extends</span> <span class="token class-name">C</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;alex&quot;</span><span class="token operator">+</span>k<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token keyword">int</span> orderNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> k <span class="token operator">=</span> orderNum <span class="token operator">+</span>j<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span> orderNum <span class="token operator">&gt;</span> j <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            k <span class="token operator">=</span> orderNum <span class="token operator">+</span> j<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>orderNum <span class="token operator">&lt;</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            orderNum <span class="token operator">++</span><span class="token punctuation">;</span>
            k <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">genName</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">genName</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;alex&quot;</span><span class="token operator">+</span>k<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;alex&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jdk<span class="token punctuation">.</span>jfr<span class="token punctuation">.</span></span><span class="token class-name">Description</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Description</span><span class="token punctuation">(</span><span class="token string">&quot;test annotation&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">InterfaceA</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> j<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span><span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>i <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>j <span class="token operator">=</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">meth1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token class-name">T</span> x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="测试类" tabindex="-1"><a class="header-anchor" href="#测试类" aria-hidden="true">#</a> 测试类</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">kotlin<span class="token punctuation">.</span>sequences<span class="token punctuation">.</span></span><span class="token class-name">Sequence</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClassOrInterface</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClasspath</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcMethod</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>cfg<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>ext<span class="token punctuation">.</span></span><span class="token class-name">HierarchyExtension</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>ext<span class="token punctuation">.</span></span><span class="token class-name">JcClasses</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">JacoDB</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">JcSettings</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">InMemoryHierarchy</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">Usages</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutionException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">HierarchyExtensionImpl</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GraphTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">GraphTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建一个DB</span>
        <span class="token class-name">JcSettings</span> jcSettings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">watchFileSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">persistent</span><span class="token punctuation">(</span><span class="token string">&quot;./tmp/compilation-db/test.db&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">installFeatures</span><span class="token punctuation">(</span><span class="token class-name">Usages</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">,</span> <span class="token class-name">InMemoryHierarchy</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Usages.INSTANCE,</span>
        <span class="token class-name">JcDatabase</span> database <span class="token operator">=</span> <span class="token class-name">JacoDB</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span>jcSettings<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// persist data</span>

        <span class="token comment">// 加载字节码信息</span>
        <span class="token class-name">File</span> buildDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;target/classes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        database<span class="token punctuation">.</span><span class="token function">asyncLoad</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// class查找范围</span>
        <span class="token class-name">JcClasspath</span> classpath <span class="token operator">=</span> database<span class="token punctuation">.</span><span class="token function">asyncClasspath</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// find class</span>
        <span class="token class-name">JcClassOrInterface</span> cString <span class="token operator">=</span>  classpath<span class="token punctuation">.</span><span class="token function">findClassOrNull</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// find  method</span>
        <span class="token keyword">assert</span> cString <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">JcMethod</span> jcMethod <span class="token operator">=</span> <span class="token class-name">JcClasses</span><span class="token punctuation">.</span><span class="token function">findDeclaredMethodOrNull</span><span class="token punctuation">(</span>cString<span class="token punctuation">,</span> <span class="token string">&quot;getName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(I)Ljava/lang/String;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3-address bytecode</span>
        <span class="token keyword">assert</span> jcMethod <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token doc-comment comment">/**
         *
        System.out.println(&quot;---------&gt;Raw instruction&lt;---------&quot;);
         // raw instruction
        JcInstList<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>JcRawInst</span><span class="token punctuation">&gt;</span></span> rawInstructionList = jcMethod.getRawInstList();
        for (JcRawInst instruction : rawInstructionList) <span class="token punctuation">{</span>
            System.out.println(instruction + &quot;         (&quot; + instruction.getClass().getSimpleName() + &quot;)&quot;);
//            List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>JcRawExpr</span><span class="token punctuation">&gt;</span></span> expressionList = instruction.getOperands();
//            for (JcRawExpr expression : expressionList) <span class="token punctuation">{</span>
//                System.out.println(expression.toString());
//                System.out.println(expression.getTypeName().getTypeName());
//                List<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>JcRawValue</span><span class="token punctuation">&gt;</span></span> valueList = expression.getOperands();
//                for (JcRawValue value :valueList) <span class="token punctuation">{</span>
//                    System.out.println(&quot;valueType:&quot;+value.getTypeName().getTypeName());
//                <span class="token punctuation">}</span>
//            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
         */</span>
        <span class="token doc-comment comment">/**
         *
         */</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------&gt;Instruction&lt;---------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// instruction</span>
        <span class="token class-name">JcInstList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcInst</span><span class="token punctuation">&gt;</span></span> instructionList <span class="token operator">=</span> jcMethod<span class="token punctuation">.</span><span class="token function">getInstList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">JcInst</span> instruction <span class="token operator">:</span> instructionList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>instruction<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> instruction<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>instruction <span class="token keyword">instanceof</span> <span class="token class-name">JcAssignInst</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">JcAssignInst</span> assignInst <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">JcAssignInst</span><span class="token punctuation">)</span>instruction<span class="token punctuation">;</span>
                <span class="token class-name">JcValue</span> lValue <span class="token operator">=</span> assignInst<span class="token punctuation">.</span><span class="token function">getLhv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">JcExpr</span> rValue <span class="token operator">=</span> assignInst<span class="token punctuation">.</span><span class="token function">getRhv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> lValue<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> lValue<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> rValue<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> rValue<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcExpr</span><span class="token punctuation">&gt;</span></span> jcExprList  <span class="token operator">=</span> instruction<span class="token punctuation">.</span><span class="token function">getOperands</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token class-name">JcExpr</span> expression <span class="token operator">:</span> jcExprList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;    &quot;</span> <span class="token operator">+</span> expression<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;         (&quot;</span> <span class="token operator">+</span> expression<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token doc-comment comment">/**
         *
        // control flow graph
        System.out.println(&quot;---------&gt;control flow graph<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>---------&quot;);</span>
        <span class="token attr-name">JcGraph</span> <span class="token attr-name">jcGraph</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> jcMethod.flowGraph();</span>
        <span class="token attr-name">JcInst</span> <span class="token attr-name">jcInst</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> jcGraph.getEntry();</span>
        <span class="token attr-name">System.out.println(jcInst</span> <span class="token attr-name">+</span> <span class="token attr-name">&quot;</span>         <span class="token attr-name">(&quot;</span> <span class="token attr-name">+</span> <span class="token attr-name">jcInst.getClass().getSimpleName()</span> <span class="token attr-name">+</span> <span class="token attr-name">&quot;)&quot;);</span>
        <span class="token attr-name">List&lt;JcExpr</span><span class="token punctuation">&gt;</span></span> jcExprList  = jcInst.getOperands();
        for ( JcExpr expression : jcExprList) <span class="token punctuation">{</span>
            System.out.println(&quot;    &quot; + expression.getType().getTypeName() + &quot;         (&quot; + expression.getClass().getSimpleName() + &quot;)&quot;);
        <span class="token punctuation">}</span>
         */</span>

        <span class="token comment">// hierarchy</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;---------&gt;hierarchy&lt;---------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">HierarchyExtension</span> ext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HierarchyExtensionImpl</span><span class="token punctuation">(</span>classpath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Sequence</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcClassOrInterface</span><span class="token punctuation">&gt;</span></span> classSeq <span class="token operator">=</span> ext<span class="token punctuation">.</span><span class="token function">findSubClasses</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.C&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcClassOrInterface</span><span class="token punctuation">&gt;</span></span> iter <span class="token operator">=</span> classSeq<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">JcClassOrInterface</span> jcClass <span class="token operator">=</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jcClass<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">Sequence</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> methodSeq <span class="token operator">=</span> ext<span class="token punctuation">.</span><span class="token function">findOverrides</span><span class="token punctuation">(</span>jcMethod<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> iterM <span class="token operator">=</span> methodSeq<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>iterM<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">JcMethod</span> method <span class="token operator">=</span> iterM<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="二-jacodb静态数据流分析" tabindex="-1"><a class="header-anchor" href="#二-jacodb静态数据流分析" aria-hidden="true">#</a> 二 jacodb静态数据流分析</h1><h2 id="_1-功能调用" tabindex="-1"><a class="header-anchor" href="#_1-功能调用" aria-hidden="true">#</a> 1 功能调用</h2><h3 id="api方式调用" tabindex="-1"><a class="header-anchor" href="#api方式调用" aria-hidden="true">#</a> api方式调用</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span></span><span class="token class-name">AnalysisMain</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">IfdsUnitRunnerFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">UnitResolver</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">VulnerabilityInstance</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>graph<span class="token punctuation">.</span></span><span class="token class-name">ApplicationGraphFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span></span><span class="token class-name">UnitResolversLibrary</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClassOrInterface</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClasspath</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcMethod</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span></span><span class="token class-name">JcApplicationGraph</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">JacoDB</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">JcSettings</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">InMemoryHierarchy</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">Usages</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutionException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span></span><span class="token class-name">RunnersLibrary</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>sarif<span class="token punctuation">.</span></span><span class="token class-name">SarifReport</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticDataFlow</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">UnusedVariableTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建一个DB</span>
        <span class="token class-name">JcSettings</span> jcSettings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">installFeatures</span><span class="token punctuation">(</span><span class="token class-name">Usages</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">,</span> <span class="token class-name">InMemoryHierarchy</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Usages.INSTANCE,</span>
        <span class="token class-name">JcDatabase</span> database <span class="token operator">=</span> <span class="token class-name">JacoDB</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span>jcSettings<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// persist data</span>
        <span class="token comment">// 加载字节码信息</span>
        <span class="token class-name">File</span> buildDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;target/classes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        database<span class="token punctuation">.</span><span class="token function">asyncLoad</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// class查找范围</span>
        <span class="token class-name">JcClasspath</span> classpath <span class="token operator">=</span> database<span class="token punctuation">.</span><span class="token function">asyncClasspath</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// find class</span>
        <span class="token class-name">JcClassOrInterface</span> cString <span class="token operator">=</span>  classpath<span class="token punctuation">.</span><span class="token function">findClassOrNull</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span> cString <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> methodsToAnalyze <span class="token operator">=</span> cString<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">JcApplicationGraph</span> applicationGraph <span class="token operator">=</span> <span class="token class-name">ApplicationGraphFactory</span>
                <span class="token punctuation">.</span><span class="token function">asyncNewApplicationGraphForAnalysis</span><span class="token punctuation">(</span>classpath<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UnitResolver</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> resolver <span class="token operator">=</span> <span class="token class-name">UnitResolversLibrary</span><span class="token punctuation">.</span><span class="token function">getMethodUnitResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">IfdsUnitRunnerFactory</span> runner <span class="token operator">=</span> <span class="token class-name">RunnersLibrary</span><span class="token punctuation">.</span><span class="token function">getUnusedVariableRunnerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VulnerabilityInstance</span><span class="token punctuation">&gt;</span></span> vulns <span class="token operator">=</span> <span class="token class-name">AnalysisMain</span><span class="token punctuation">.</span><span class="token function">runAnalysis</span><span class="token punctuation">(</span>
                applicationGraph<span class="token punctuation">,</span>
                resolver<span class="token punctuation">,</span>
                runner<span class="token punctuation">,</span>
                methodsToAnalyze<span class="token punctuation">,</span>
                <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SarifReport</span> report <span class="token operator">=</span> <span class="token class-name">SarifReport<span class="token punctuation">.</span>Companion</span><span class="token punctuation">.</span><span class="token function">fromVulnerabilities</span><span class="token punctuation">(</span>vulns<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./report.sarif.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        report<span class="token punctuation">.</span><span class="token function">encodeToStream</span><span class="token punctuation">(</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        outputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>graph</strong></p><p>​ 根据cp生成graph</p><p><strong>UnitResolver</strong></p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">fun</span> <span class="token function">getByName</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> UnitResolver<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token string-literal singleline"><span class="token string">&quot;method&quot;</span></span>    <span class="token operator">-&gt;</span> MethodUnitResolver
        <span class="token string-literal singleline"><span class="token string">&quot;class&quot;</span></span>     <span class="token operator">-&gt;</span> <span class="token function">getClassUnitResolver</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token string-literal singleline"><span class="token string">&quot;package&quot;</span></span>   <span class="token operator">-&gt;</span> PackageUnitResolver
        <span class="token string-literal singleline"><span class="token string">&quot;singleton&quot;</span></span> <span class="token operator">-&gt;</span> SingletonUnitResolver
        <span class="token keyword">else</span>        <span class="token operator">-&gt;</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;Unknown unit resolver </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">name</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>runner</strong></p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> runner <span class="token operator">=</span> <span class="token keyword">when</span> <span class="token punctuation">(</span>analysis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token string-literal singleline"><span class="token string">&quot;NPE&quot;</span></span> <span class="token operator">-&gt;</span> <span class="token function">newNpeRunnerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token string-literal singleline"><span class="token string">&quot;Unused&quot;</span></span> <span class="token operator">-&gt;</span> UnusedVariableRunnerFactory
    <span class="token string-literal singleline"><span class="token string">&quot;SQL&quot;</span></span> <span class="token operator">-&gt;</span> <span class="token function">newSqlInjectionRunnerFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">error</span> <span class="token punctuation">{</span> <span class="token string-literal singleline"><span class="token string">&quot;Unknown analysis type: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression">analysis</span></span><span class="token string">&quot;</span></span> <span class="token punctuation">}</span>
        <span class="token keyword">return</span><span class="token label symbol">@mapNotNull</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>methods</strong></p><p>​ -s指定从哪个类开始分析，配置文件配置分析类型和解析器。</p><div class="language-kotlin line-numbers-mode" data-ext="kt"><pre class="language-kotlin"><code><span class="token keyword">val</span> startClassesAsList <span class="token operator">=</span> startClasses<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">&quot;;&quot;</span></span><span class="token punctuation">)</span>
<span class="token keyword">val</span> startJcClasses <span class="token operator">=</span> ConcurrentHashMap<span class="token punctuation">.</span>newKeySet<span class="token operator">&lt;</span>JcClassOrInterface<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cp<span class="token punctuation">.</span><span class="token function">executeAsync</span><span class="token punctuation">(</span><span class="token keyword">object</span> <span class="token operator">:</span> JcClassProcessingTask <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">process</span><span class="token punctuation">(</span>clazz<span class="token operator">:</span> JcClassOrInterface<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>startClassesAsList<span class="token punctuation">.</span><span class="token function">any</span> <span class="token punctuation">{</span> clazz<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            startJcClasses<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> startJcMethods <span class="token operator">=</span> startJcClasses<span class="token punctuation">.</span><span class="token function">flatMap</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>declaredMethods <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">filter</span> <span class="token punctuation">{</span> <span class="token operator">!</span>it<span class="token punctuation">.</span>isPrivate <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cli方式调用" tabindex="-1"><a class="header-anchor" href="#cli方式调用" aria-hidden="true">#</a> cli方式调用</h3><p>​ 官方未发布cli的jar包，需要下载源码自己编译。</p><p><img src="/notes/assets/image-20231201163922710-b2274383.png" alt="image-20231201163922710"></p><div class="language-bat line-numbers-mode" data-ext="bat"><pre class="language-bat"><code>java -classpath ^
jacodb-cli-1.4.jar;^
.\libs\annotations-13.0.jar;^
.\libs\asm-9.5.jar;^
.\libs\asm-analysis-9.5.jar;^
.\libs\asm-commons-9.5.jar;^
.\libs\asm-tree-9.5.jar;^
.\libs\asm-util-9.5.jar;^
.\libs\checker-qual-3.12.0.jar;^
.\libs\commons-math3-3.2.jar;^
.\libs\error_prone_annotations-2.11.0.jar;^
.\libs\failureaccess-1.0.1.jar;^
.\libs\guava-31.1-jre.jar;^
.\libs\hamcrest-core-1.3.jar;^
.\libs\j2objc-annotations-1.3.jar;^
.\libs\jacodb-1.4-SNAPSHOT.jar;^
.\libs\jacodb-analysis-1.4-SNAPSHOT-test-fixtures.jar;^
.\libs\jacodb-analysis-1.4-SNAPSHOT.jar;^
.\libs\jacodb-analysis-1.4.2.jar;^
.\libs\jacodb-api-1.4-SNAPSHOT.jar;^
.\libs\jacodb-api-1.4.2.jar;^
.\libs\jacodb-approximations-1.4-SNAPSHOT.jar;^
.\libs\jacodb-approximations-1.4.2.jar;^
.\libs\jacodb-benchmarks-1.4-SNAPSHOT.jar;^
.\libs\jacodb-core-1.4-SNAPSHOT-test-fixtures.jar;^
.\libs\jacodb-core-1.4-SNAPSHOT.jar;^
.\libs\jacodb-core-1.4.2.jar;^
.\libs\jacodb-examples-1.4-SNAPSHOT.jar;^
.\libs\jacodb-taint-configuration-1.4-SNAPSHOT.jar;^
.\libs\jacodb-taint-configuration-1.4.2.jar;^
.\libs\javax.activation-api-1.2.0.jar;^
.\libs\jaxb-api-2.3.1.jar;^
.\libs\jdot-1.0.jar;^
.\libs\jooq-3.14.16.jar;^
.\libs\jsr305-3.0.2.jar;^
.\libs\junit-4.13.1.jar;^
.\libs\kotlin-logging-1.8.3.jar;^
.\libs\kotlin-reflect-1.7.21.jar;^
.\libs\kotlin-stdlib-1.7.21.jar;^
.\libs\kotlin-stdlib-common-1.3.72.jar;^
.\libs\kotlin-stdlib-common-1.7.21.jar;^
.\libs\kotlin-stdlib-jdk7-1.7.21.jar;^
.\libs\kotlin-stdlib-jdk8-1.7.21.jar;^
.\libs\kotlinx-benchmark-runtime-jvm-0.4.4.jar;^
.\libs\kotlinx-cli-jvm-0.3.5.jar;^
.\libs\kotlinx-collections-immutable-jvm-0.3.5.jar;^
.\libs\kotlinx-coroutines-core-1.6.4.jar;^
.\libs\kotlinx-coroutines-core-common-1.3.8.jar;^
.\libs\kotlinx-coroutines-core-jvm-1.6.4.jar;^
.\libs\kotlinx-coroutines-jdk8-1.6.4.jar;^
.\libs\kotlinx-coroutines-reactive-1.6.4.jar;^
.\libs\kotlinx-coroutines-reactor-1.6.4.jar;^
.\libs\kotlinx-metadata-jvm-0.5.0.jar;^
.\libs\kotlinx-serialization-cbor-jvm-1.4.1.jar;^
.\libs\kotlinx-serialization-core-jvm-1.4.1.jar;^
.\libs\kotlinx-serialization-json-jvm-1.4.1.jar;^
.\libs\listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar;^
.\libs\reactive-streams-1.0.2.jar;^
.\libs\slf4j-api-1.7.29.jar;^
.\libs\slf4j-simple-1.7.36.jar;^
.\libs\sqlite-jdbc-3.41.2.2.jar ^
org.jacodb.cli.MainKt -a config.json -s org.jacodb.testing.analysis.NpeExamples
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>config.json</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;analyses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;NPE&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Unused&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;UnitResolver&quot;</span><span class="token operator">:</span> <span class="token string">&quot;class&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;SQL&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>UnitResolver有四种，分别为：method、class、package、singleton。分析精度依次递增，消耗依次递增。</p><p>命令参数</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>	--analysisConf, -a — 包含以 JSON 格式提供的分析配置的文件路径（详细描述见下文）。
​	 --start, -s — 指定分析开始的类。 
​	--classpath, -cp — JacoDB 分析所需的类路径。 [可选] 
​	--dbLocation, -l — 存储字节码数据的 SQLite 数据库的位置。如果未指定，将不会将数据存储在数据库中。 [可选] 
​	--output, -o — 用于存储分析报告的文件。默认为 report.json。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-已实现功能" tabindex="-1"><a class="header-anchor" href="#_2-已实现功能" aria-hidden="true">#</a> 2 已实现功能</h2><p>​ 空指针异常(NPE)</p><p>​ 未使用变量(Unused)</p><p>​ sql注入(SQL)</p><p>​ 通用污点分析</p><p>具体功能参考源码，在自定义分析时可以参考上述实现，以及【Analysis模块类结构】可以快速理清自定义分析器的逻辑。</p><h2 id="_3-自定义分析" tabindex="-1"><a class="header-anchor" href="#_3-自定义分析" aria-hidden="true">#</a> 3 自定义分析</h2><h3 id="自定义分析器" tabindex="-1"><a class="header-anchor" href="#自定义分析器" aria-hidden="true">#</a> 自定义分析器</h3><p>定义了一个空的分析器，只写了分析器扩展的基本结构类。在TestForwardFunctions.java文件中处理发现问题。</p><p>RunnersLibraryExt.java</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">BaseIfdsUnitRunnerFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span>analyzers<span class="token punctuation">.</span></span><span class="token class-name">TestAnalyzerFactory</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RunnersLibraryExt</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BaseIfdsUnitRunnerFactory</span> <span class="token function">newTestRunnerFactory</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxPathLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>maxPathLength <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            maxPathLength <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BaseIfdsUnitRunnerFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestAnalyzerFactory</span><span class="token punctuation">(</span>maxPathLength<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TestAnalyzer.java</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span>analyzers</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">AbstractAnalyzer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">FlowFunctionsSpace</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span></span><span class="token class-name">JcApplicationGraph</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">NotNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAnalyzer</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAnalyzer</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> maxPathLength<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">JcApplicationGraph</span> graph<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">TestAnalyzer</span><span class="token punctuation">(</span><span class="token class-name">JcApplicationGraph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> maxPathLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>maxPathLength <span class="token operator">=</span> maxPathLength<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>graph <span class="token operator">=</span> graph<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isMainAnalyzer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@NotNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">FlowFunctionsSpace</span> <span class="token function">getFlowFunctions</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TestForwardFunctions</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getClasspath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>maxPathLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TestAnalyzerFactory.java</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span>analyzers</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">Analyzer</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">AnalyzerFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span></span><span class="token class-name">JcApplicationGraph</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">NotNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">TestAnalyzerFactory</span> <span class="token keyword">implements</span>   <span class="token class-name">AnalyzerFactory</span><span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> maxPathLength<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">TestAnalyzerFactory</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxPathLength<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>maxPathLength <span class="token operator">=</span> maxPathLength<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@NotNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Analyzer</span> <span class="token function">newAnalyzer</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcApplicationGraph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">TestAnalyzer</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span>maxPathLength<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TestForwardFunctions.java</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span>analyzers</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">DomainFact</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">ZEROFact</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClasspath</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>cfg<span class="token punctuation">.</span></span><span class="token class-name">JcExpr</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>cfg<span class="token punctuation">.</span></span><span class="token class-name">JcInst</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>cfg<span class="token punctuation">.</span></span><span class="token class-name">JcValue</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jetbrains<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">NotNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestForwardFunctions</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractTaintForwardFunctions</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> maxPathLength<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">TestForwardFunctions</span><span class="token punctuation">(</span><span class="token class-name">JcClasspath</span> cp<span class="token punctuation">,</span> <span class="token keyword">int</span> maxPathLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>maxPathLength <span class="token operator">=</span> maxPathLength<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@NotNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DomainFact</span><span class="token punctuation">&gt;</span></span> <span class="token function">obtainPossibleStartFacts</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcInst</span> startStatement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DomainFact</span><span class="token punctuation">&gt;</span></span> factList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        factList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">ZEROFact</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;obtainPossibleStartFacts---&gt; &quot;</span> <span class="token operator">+</span> startStatement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> factList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@NotNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DomainFact</span><span class="token punctuation">&gt;</span></span> <span class="token function">transmitDataFlow</span><span class="token punctuation">(</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcExpr</span> jcExpr<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcValue</span> jcValue<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcInst</span> jcInst<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">DomainFact</span> domainFact<span class="token punctuation">,</span>
            <span class="token keyword">boolean</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlow---&gt; &quot;</span> <span class="token operator">+</span> jcExpr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlow---&gt; &quot;</span> <span class="token operator">+</span> jcValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlow---&gt; &quot;</span> <span class="token operator">+</span> jcInst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlow---&gt; &quot;</span> <span class="token operator">+</span> domainFact<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlow---&gt; &quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@NotNull</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DomainFact</span><span class="token punctuation">&gt;</span></span> <span class="token function">transmitDataFlowAtNormalInst</span><span class="token punctuation">(</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcInst</span> jcInst<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">JcInst</span> jcInst1<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">DomainFact</span> domainFact<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlowAtNormalInst---&gt; &quot;</span> <span class="token operator">+</span> jcInst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlowAtNormalInst---&gt; &quot;</span> <span class="token operator">+</span> jcInst1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transmitDataFlowAtNormalInst---&gt; &quot;</span> <span class="token operator">+</span> domainFact<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调用自定义分析器" tabindex="-1"><a class="header-anchor" href="#调用自定义分析器" aria-hidden="true">#</a> 调用自定义分析器</h3><p>只有这句和之前调用不一致。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">IfdsUnitRunnerFactory</span> runner <span class="token operator">=</span> <span class="token class-name">RunnersLibraryExt</span><span class="token punctuation">.</span><span class="token function">newTestRunnerFactory</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>完整代码：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span></span><span class="token class-name">AnalysisMain</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">IfdsUnitRunnerFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">UnitResolver</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">VulnerabilityInstance</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>graph<span class="token punctuation">.</span></span><span class="token class-name">ApplicationGraphFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span></span><span class="token class-name">RunnersLibraryExt</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>library<span class="token punctuation">.</span></span><span class="token class-name">UnitResolversLibrary</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClassOrInterface</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcClasspath</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcDatabase</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">JcMethod</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>api<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span></span><span class="token class-name">JcApplicationGraph</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">JacoDB</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">JcSettings</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">InMemoryHierarchy</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>impl<span class="token punctuation">.</span>features<span class="token punctuation">.</span></span><span class="token class-name">Usages</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutionException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>jacodb<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>sarif<span class="token punctuation">.</span></span><span class="token class-name">SarifReport</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticDataFlow</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">UnusedVariableTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建一个DB</span>
        <span class="token class-name">JcSettings</span> jcSettings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JcSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">installFeatures</span><span class="token punctuation">(</span><span class="token class-name">Usages</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">,</span> <span class="token class-name">InMemoryHierarchy</span><span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Usages.INSTANCE,</span>
        <span class="token class-name">JcDatabase</span> database <span class="token operator">=</span> <span class="token class-name">JacoDB</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span>jcSettings<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// persist data</span>
        <span class="token comment">// 加载字节码信息</span>
        <span class="token class-name">File</span> buildDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;target/classes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        database<span class="token punctuation">.</span><span class="token function">asyncLoad</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// class查找范围</span>
        <span class="token class-name">JcClasspath</span> classpath <span class="token operator">=</span> database<span class="token punctuation">.</span><span class="token function">asyncClasspath</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>buildDir<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// find class</span>
        <span class="token class-name">JcClassOrInterface</span> cString <span class="token operator">=</span>  classpath<span class="token punctuation">.</span><span class="token function">findClassOrNull</span><span class="token punctuation">(</span><span class="token string">&quot;org.example.C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span> cString <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JcMethod</span><span class="token punctuation">&gt;</span></span> methodsToAnalyze <span class="token operator">=</span> cString<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">JcApplicationGraph</span> applicationGraph <span class="token operator">=</span> <span class="token class-name">ApplicationGraphFactory</span>
                <span class="token punctuation">.</span><span class="token function">asyncNewApplicationGraphForAnalysis</span><span class="token punctuation">(</span>classpath<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UnitResolver</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> resolver <span class="token operator">=</span> <span class="token class-name">UnitResolversLibrary</span><span class="token punctuation">.</span><span class="token function">getMethodUnitResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">IfdsUnitRunnerFactory</span> runner <span class="token operator">=</span> <span class="token class-name">RunnersLibraryExt</span><span class="token punctuation">.</span><span class="token function">newTestRunnerFactory</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VulnerabilityInstance</span><span class="token punctuation">&gt;</span></span> vulns <span class="token operator">=</span> <span class="token class-name">AnalysisMain</span><span class="token punctuation">.</span><span class="token function">runAnalysis</span><span class="token punctuation">(</span>
                applicationGraph<span class="token punctuation">,</span>
                resolver<span class="token punctuation">,</span>
                runner<span class="token punctuation">,</span>
                methodsToAnalyze<span class="token punctuation">,</span>
                <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SarifReport</span> report <span class="token operator">=</span> <span class="token class-name">SarifReport<span class="token punctuation">.</span>Companion</span><span class="token punctuation">.</span><span class="token function">fromVulnerabilities</span><span class="token punctuation">(</span>vulns<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStream</span> outputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;./report.sarif.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        report<span class="token punctuation">.</span><span class="token function">encodeToStream</span><span class="token punctuation">(</span>outputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        outputStream<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        outputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三-analysis模块类结构" tabindex="-1"><a class="header-anchor" href="#三-analysis模块类结构" aria-hidden="true">#</a> 三 Analysis模块类结构</h1><p><img src="/notes/assets/jacodb类梳理.drawio-624c150c.svg" alt="jacodb类梳理.drawio"></p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/notes/assets/app-26a5a8f2.js" defer></script>
  </body>
</html>
